{"version":3,"sources":["лучшие-виллы.js"],"names":[],"mappings":"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","file":"лучшие-виллы-compiled.js","sourcesContent":["'use strict';\n\napp.filter('endOfWordBedrooms', function () {\n  return function (countBedrooms) {\n\n    var countBedrooms = +countBedrooms;\n    if (countBedrooms != 0) {\n      var lastDigit = \"\" + countBedrooms;\n      if (lastDigit.slice(-2, -1) && +lastDigit.slice(-2, -1) == 1) {\n        return 'ен';\n      } else {\n        lastDigit = +lastDigit.slice(-1);\n        switch (lastDigit) {\n          case 1:\n            return 'ьня';\n            break;\n          case 2:\n          case 3:\n          case 4:\n            return 'ьни';\n            break;\n          default:\n            return 'ен';\n        }\n      }\n    }\n  };\n});\napp.filter('endOfWordGuests', function () {\n  return function (countGuests) {\n    //debugger;\n    var countGuests = +countGuests;\n    if (countGuests != 0) {\n      var lastDigit = \"\" + countGuests;\n      if (lastDigit.slice(-2, -1) && +lastDigit.slice(-2, -1) == 1) {\n        return 'ей';\n      } else {\n        lastDigit = +lastDigit.slice(-1);\n        switch (lastDigit) {\n          case 1:\n            return 'ь';\n            break;\n          case 2:\n          case 3:\n          case 4:\n            return 'я';\n            break;\n          default:\n            return 'ей';\n        }\n      }\n    }\n  };\n});\napp.controller('VillaSearchCtrl', ['$scope', '$http', 'setCookieFact', '$rootScope', '$routeParams', '$location', \"SearchPageFact\",'Database', function ($s, $h, setCookieFact, $rootScope, $routeParams, $location, SearchPageFact, db) {\n\n  $s.directions = [];\n  $s.arrDirections = [];\n  $s.loading = true;\n  $s.rCounts = [];\n  $s.gCounts = [];\n  $s.recreationStyles = ['Виллы у моря', 'Поместья и Замки', 'Шале в горах'];\n  $s.filterResult = [];\n  $s.selectedDir;\n  $s.selectedRegion = [];\n  $s.selectedRoom = {};\n  $s.selectedGuest = {};\n  $s.selectedMinPrice = {};\n  $s.selectedMaxPrice = {};\n  $s.selectedRecreationStyle = [];\n  $s.check = [];\n  $s.checkBenefit = [];\n  $s.selectedSpecialBenefit = [];\n  $s.specialStaticBenefitsArr = [\"Сауна\", \"Баня\", \"Джакузи\", \"Спорт Зал\", \"Доступ к подъемнику\", \"Кинозал\", \"Частный пляж\", \"Зона для гостей\", \"Зона для охраны\", \"Частный причал\", \"Бассейн\"];\n  // $s.regions = [{name:'Испания',},{name:'Италия'},{name:'Азия'},{name:'Карибы'},{name:'Альпы'},{name:'Франция'},{name:'Балканы'}];\n  $s.regions = [];\n  $s.regionsId = [];\n  $s.regionsMapping = [];\n  $s.arrFiltersStatus = [true, true, true, true, true, true, true, true, true];\n  $s.showResetButton = true;\n  $s.villsFieldValueIdArr = [];\n  var villsGlobal = [],\n      query;\n  $s.$watch('filteredVills.length', function () {\n    if ($s.filteredVills) {\n      var lastDigit = \"\" + $s.filteredVills.length;\n      lastDigit = +lastDigit.slice(-1);\n      switch ($s.filteredVills.length) {\n        case 1:\n          $s.endOfWord = 'т';\n          break;\n        case 2:\n          $s.endOfWord = 'тa';\n          break;\n        case 3:\n          $s.endOfWord = 'та';\n          break;\n        case 4:\n          $s.endOfWord = 'та';\n          break;\n        default:\n          $s.endOfWord = 'тов';\n      }\n    }\n  });\n\n  console.log($s, 'scope');\n\n  var temp = localStorage.recStyle || '';\n  $s.searchValue = decodeURIComponent(location.hash.substring(2)) || '';\n\n  // query = $routeParams.search;\n\n  $s.setFavouriteVilla = function (villaId, event) {\n    if (!event.target.classList.contains('active-like')) {\n      document.getElementById('modal').classList.add('show');\n      // localStorage.setItem('liked', villaId);\n      return setCookieFact.setFavouriteVilla(villaId);\n    } else {\n      return setCookieFact.setFavouriteVilla(villaId);\n    }\n  };\n\n  $s.addFav = function (villaId, event) {\n    if (!event.target.classList.contains('active-like')) {\n      event.target.classList.add('active-like');\n      document.getElementById('modal').classList.add('show');\n      return setCookieFact.setFavouriteVilla(villaId);\n    } else {\n      event.target.classList.remove('active-like');\n      return setCookieFact.setFavouriteVilla(villaId);\n    }\n  };\n\n  $s.isFav = function (villaId) {\n    var result;\n    setCookieFact.getFavouritesVill().forEach(function (vill) {\n      if (vill == villaId) {\n        result = true;\n      }\n    });\n    return result;\n  };\n\n  db.request('/api/data/table?t=428&connect[f1]=0',images => {\n    images = images\n        .filter(img => img.f1 && img.f2)\n        .map(img => {\n          img.f1 = img.f1.replace(/\\|/g,'');\n          return img;\n        });\n    db.request('/api/data/table?t=342',function (vills) {\n\n      vills.forEach(villa => {\n        villa.images = images\n            .filter(img => (img.f1 == villa.field_value_id) && img.f2)\n            .sort((v1,v2)=> {\n          if (v1.f3 == v2.f3) return 0;\n          if (v1.f3 == 'yes') return -1;\n          return 1;\n        });\n        villa.img = (villa.images[0] || {f2:''}).f2;\n      });\n\n    if (vills && vills.length) {\n      var gallery1 = function gallery1(additionalFields) {\n        return additionalFields[0].f9;\n      };\n\n      var gallery2 = function gallery2(villa) {\n        return villa.images.map(img => img.f2);\n      };\n\n      $s.vills = villsGlobal = vills.filter(function (villa) {\n        return !!villa.url;\n      });\n      checkVillaStatus($s.vills);\n      var roomMinValue = 999,\n          roomMaxValue = 0,\n          guestMinValue = 999,\n          guestMaxValue = 0,\n          minPrice = 999,\n          maxPrice = 0,\n          favouriteVillsFromCookies = setCookieFact.getFavouritesVill();\n      vills.forEach(function (villa) {\n        // get max/min rooms and persons value\n        $s.villsFieldValueIdArr.push(villa.field_value_id);\n        villa.r_counter = isParamCorrect(villa, villa.r_counter, 'r_counter');\n        villa.person_counter = isParamCorrect(villa, villa.person_counter, 'person_counter');\n        villa.min_price = isParamCorrect(villa, villa.min_price, 'min_price');\n        villa.max_price = isParamCorrect(villa, villa.max_price, 'max_price');\n\n        if (villa.min_price && villa.max_price) {\n          villa.priceStr = '$' + villa.min_price + ' — $' + villa.max_price;\n        } else {\n          villa.priceStr = 'цена по запросу';\n        }\n\n        villa.inFavourites = false;\n        villa.inFavourites = favouriteVillsFromCookies ? favouriteVillsFromCookies.some(isEqual) : false;\n        var objDirection = {};\n        if (villa.f8) {\n          objDirection.name = villa.f8[0].f1;\n          objDirection.idRegion = +villa.f8[0].f3.replace(/\\|/g, \"\");\n          objDirection.showDir = true;\n          objDirection.villCount = countVills(vills, objDirection.name);\n          $s.arrDirections.push(objDirection);\n          //получаем массив id по которым получим регионы в 343 таблице\n          $s.regionsId.push(+villa.f8[0].f3.replace(/\\|/g, \"\"));\n        }\n        function countVills(vills, direction) {\n          var counter = 0;\n          vills.forEach(function (villa) {\n            if (villa.f8 != undefined && villa.f8[0].f1 == direction) {\n              counter += 1;\n            }\n          });\n          return counter;\n        }\n        function isEqual(cookieId) {\n          return villa.field_value_id == cookieId;\n        }\n        if (villa.r_counter > roomMaxValue) {\n          roomMaxValue = parseInt(villa.r_counter);\n        }\n        if (villa.r_counter < roomMinValue) {\n          roomMinValue = parseInt(villa.r_counter);\n        }\n        if (villa.person_counter > guestMaxValue) {\n          guestMaxValue = parseInt(villa.person_counter);\n        }\n\n        if (villa.person_counter < guestMinValue) {\n          guestMinValue = parseInt(villa.person_counter);\n        }\n        if (villa.min_price < minPrice) {\n          if (villa.min_price !== '') {\n            minPrice = parseInt(villa.min_price);\n          }\n        }\n\n        if (villa.max_price > maxPrice) {\n          if (villa.max_price !== '') {\n            maxPrice = parseInt(villa.max_price);\n          }\n        }\n\n        // if($s.recreationStyles && $s.recreationStyles.length) {\n        //     var villaRecreationStyle = villa.recreation_style,\n        //         add = true;\n        //     $s.recreationStyles.forEach(function(style) {\n        //         if(style == villaRecreationStyle) {\n        //             add = false;\n        //         }\n        //\n        //         add ? $s.recreationStyles.push(villaRecreationStyle) : \"\";\n        //     })\n        // } else {\n        //     $s.recreationStyles.push(villa.recreation_style);\n        // }\n        //\n        // $h.get('api/data/connectedWith?r='+ villa.field_value_id)\n        // .success(function(result) {\n        //   if(result) {\n        //      debugger;\n        //         villa.additionalFields = filterByTableId(result, 364);\n        //         if(villa.additionalFields[0]) {\n\n        //           villa.best = villa.additionalFields[0].f6 ? parseInt(villa.additionalFields[0].f6) : 0; \n        //           villa.date_of_addition = villa.additionalFields[0].f5 ? new Date(villa.additionalFields[0].f5) : 0;\n        //           villa.gallery = gallery1(villa.additionalFields);\n\n        //           if(villa.additionalFields[0].f10 == 'hide') {\n        //           $s.arrDirections.forEach(function(dir){\n        //               if(dir.name == villa.f8[0].f1) {\n        //                   var index = $s.arrDirections.indexOf(dir);\n        //                   $s.arrDirections.splice(index, 1);\n        //               }\n        //           })\n        //         }   \n        //         }\n\n        //         villa.gallery = gallery2(villa);\n\n        //   }\n        // });\n      });\n      // var dm = new DataManager();\n      // //debugger;\n      // dm.table(428).where('f3', 'yes').where('f1', $s.villsFieldValueIdArr).success(function (imgTable) {\n      //   debugger;\n      //   console.log(imgTable);\n      //   // $s.vills = $s.vills.map(function(villa){\n      //   //     var imgUrl;\n      //   //     imgTable.forEach(function(img){\n      //   //         if (villa.field_value_id == img.f1.split('|')[1]){\n      //   //             imgUrl = img.f2;\n      //   //         }\n      //   //     });\n      //   //     if(imgUrl){\n      //   //         villa.img = imgUrl;\n      //   //     }\n      //   //     return villa;\n      //   // });\n      //   $s.$apply();\n      // });\n\n      $s.rCounts = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n      $s.gCounts = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n      // var rCounts = parseInt(roomMaxValue / roomMinValue); //count and write rooms value to select options array\n      // var rCount = roomMinValue;\n      // while(rCount <= roomMaxValue) {\n      //     //debugger;\n      //   if(rCount + rCounts <= roomMaxValue) {\n      //     $s.rCounts.push(rCount);\n      //   } else {\n      //     $s.rCounts.push(roomMaxValue);\n      //   }\n      //   rCount += rCounts;\n      // }\n\n      // var gStep = parseInt(guestMaxValue / guestMinValue); //count and write guests value to select options array\n      // var gCount = guestMinValue;\n      // while(gCount <= guestMaxValue) {\n      //   if(gCount + gStep <= guestMaxValue) {\n      //     $s.gCounts.push(gCount);\n      //   } else {\n      //     $s.gCounts.push(guestMaxValue);\n      //   }\n      //   gCount += gStep;\n      // }\n\n      // set min/max prices\n      minPrice = Math.floor(minPrice / 100) * 100;\n      maxPrice = Math.ceil(maxPrice / 100) * 100;\n      $s.selectedMinPrice = $s.minPrice = $s.resetMinPrice = minPrice;\n      $s.selectedMaxPrice = $s.maxPrice = $s.resetMaxPrice = maxPrice;\n\n      jQuery(\"#slider\").slider({\n        min: minPrice,\n        max: maxPrice,\n        values: [minPrice, maxPrice],\n        range: true,\n        step: 100,\n        stop: function stop(event, ui) {\n          $s.selectedMinPrice = $s.minPrice = jQuery(\"#slider\").slider(\"values\", 0);\n          jQuery(\"input#minCost\").val(jQuery(\"#slider\").slider(\"values\", 0));\n          $s.selectedMaxPrice = $s.maxPrice = jQuery(\"#slider\").slider(\"values\", 1);\n          jQuery(\"input#maxCost\").val(jQuery(\"#slider\").slider(\"values\", 1));\n          $s.$digest();\n        },\n        slide: function slide(event, ui) {\n          $s.selectedMinPrice = $s.minPrice = jQuery(\"#slider\").slider(\"values\", 0);\n          jQuery(\"input#minCost\").val(jQuery(\"#slider\").slider(\"values\", 0));\n          $s.selectedMaxPrice = $s.maxPrice = jQuery(\"#slider\").slider(\"values\", 1);\n          jQuery(\"input#maxCost\").val(jQuery(\"#slider\").slider(\"values\", 1));\n        }\n      });\n\n      jQuery(\"input#minCost\").keyup(function () {\n        var value1 = jQuery(\"input#minCost\").val();\n        var value2 = jQuery(\"input#maxCost\").val();\n\n        if (parseInt(value1) > parseInt(value2)) {\n          value1 = value2;\n          jQuery(\"input#minCost\").val(value1);\n        }\n        jQuery(\"#slider\").slider(\"values\", 0, value1);\n        $s.selectedMinPrice = value1;\n      });\n\n      jQuery(\"input#maxCost\").keyup(function () {\n        var value1 = jQuery(\"input#minCost\").val();\n        var value2 = jQuery(\"input#maxCost\").val();\n\n        if (value2 > maxPrice) {\n          value2 = maxPrice;jQuery(\"input#maxCost\").val(maxPrice);\n        }\n        if (parseInt(value1) > parseInt(value2)) {\n          value2 = value1;\n          jQuery(\"input#maxCost\").val(value2);\n        }\n        jQuery(\"#slider\").slider(\"values\", 1, value2);\n        $s.selectedMaxPrice = value2;\n      });\n      jQuery(\"#button-reset\").click(function () {\n        jQuery(\"#slider\").slider({ values: [$s.resetMinPrice, $s.resetMaxPrice] });\n      });\n\n      // !!! set min/max prices !!!\n    } else {}\n    $s.loading = false;\n\n    // удаление повторов из списка направлений\n    //debugger;\n    $s.arrDirections = unicObjListByName($s.arrDirections);\n    $s.regionsId = unic($s.regionsId);\n\n    db.request('/api/data/table?t=343',function (regions) {\n      regions.forEach(function (region) {\n        if (region.f3 != undefined) {\n          if ($s.regionsId.indexOf(+region.f3[0].field_value_id) !== -1) {\n            var regionNameAndId = {};\n            regionNameAndId.name = region.f3[0].f1;\n            regionNameAndId.id = +region.f3[0].field_value_id;\n            $s.regions.push(region.f3[0].f1);\n            $s.regionsMapping.push(regionNameAndId);\n          }\n        }\n      });\n      $s.regions = unic($s.regions);\n      $s.regions = $s.regions.map(function (item) {\n        var makedObj = {};\n        makedObj.name = item;\n        return makedObj;\n      });\n      $s.regionsMapping = unicObjListById($s.regionsMapping);\n\n      checkboxlayer($s.regions); // стилизируем мультиселект\n      // setHandlers();\n    });\n\n    //функция удаления дублирующих значений из массива\n    function unic(arr) {\n      var result = [];\n      nextElem: for (var i = 0; i < arr.length; i++) {\n        var direction = arr[i];\n        for (var j = 0; j < result.length; j++) {\n          if (result[j] === direction) continue nextElem;\n        }\n        result.push(direction);\n      }\n      return result;\n    }\n    function unicObjListById(arr) {\n      var result = [];\n      nextElem: for (var i = 0; i < arr.length; i++) {\n        var arrElem = arr[i].id;\n        for (var j = 0; j < result.length; j++) {\n          if (result[j].id === arrElem) continue nextElem;\n        }\n        result.push(arr[i]);\n      }\n      return result;\n    }\n    function unicObjListByName(arr) {\n      var result = [];\n      nextElem: for (var i = 0; i < arr.length; i++) {\n        var arrElem = arr[i].name;\n        for (var j = 0; j < result.length; j++) {\n          if (result[j].name === arrElem) continue nextElem;\n        }\n        result.push(arr[i]);\n      }\n      return result;\n    }\n  });\n  })\n  function isParamCorrect(villa, param, paramKey) {\n    var testValue = parseInt(param);\n    var result = null;\n    if (isNaN(testValue) == false) {\n      // поле заполнено корректно\n      result = testValue;\n    } else {\n      console.log(villa.name + ' ' + paramKey + ' is empty');\n      result = '';\n    }\n    return result;\n  }\n  function checkVillaStatus(array) {\n    // $h.get('/api/data/table?t=364').success(function (vills) {\n    //   vills.forEach(function (villa) {\n    //     array.forEach(function (elem) {\n    //\n    //       if (villa.f1 && villa.f1[0].f1 && elem.name == villa.f1[0].f1 && villa.status == 'hide') {\n    //         var position = array.indexOf(elem);\n    //         array.splice(position, 1);\n    //       }\n    //     });\n    //   });\n    // });\n  }\n\n  // Сортировка\n  $s.orderByField = 'min_price';\n  $s.reverseSort = true;\n  // !!! Сортировка !!!\n  //фильтр по направлениям\n  $s.byDirection = function (villa) {\n    if ($s.selectedDir != '-- Все направления --' && villa.f8 != undefined) {\n      $s.arrFiltersStatus[1] = false;\n      return villa.f8[0].f1 == $s.selectedDir;\n    } else {\n      $s.arrFiltersStatus[1] = true;\n      return true;\n    }\n  };\n  //изменение направлений в зависимости от региона\n  $s.$watch('selectedRegion', function () {\n\n    if ($s.selectedRegion.length == 0) {\n      $s.arrDirections.forEach(function (dir) {\n        dir.showDir = true;\n      });\n    } else {\n      $s.arrDirections.forEach(function (dir) {\n        dir.showDir = false;\n      });\n\n      $s.selectedRegion.forEach(function (reg) {\n        nextSelectedRegion: for (var i = 0; i < $s.arrDirections.length; i++) {\n          for (var j = 0; j < $s.regionsMapping.length; j++) {\n            if ($s.regionsMapping[j].name == reg.name) {\n              if ($s.regionsMapping[j].id == $s.arrDirections[i].idRegion) {\n                $s.arrDirections[i].showDir = true;\n                continue nextSelectedRegion;\n              }\n            }\n          }\n        }\n      });\n    }\n  });\n\n  $s.openSlt = function () {\n    var dSlt = document.getElementById('directionsSelect');\n\n    var evt1 = new MouseEvent(\"click\", {\n      view: window,\n      bubbles: true,\n      cancelable: true,\n      clientX: 20\n    });\n    // при клике селект региона закрывается\n    var evt2 = new MouseEvent(\"mousedown\", {\n      view: window,\n      bubbles: true,\n      cancelable: true,\n      clientX: 20\n    });\n    // при mousedown открывается селект направлений\n    dSlt.dispatchEvent(evt1);\n    dSlt.dispatchEvent(evt2);\n  };\n  //фильтр по регионам\n  $s.byRegion = function (villa) {\n    if ($s.selectedRegion.length == 0) {\n      $s.arrFiltersStatus[0] = true;\n      return true;\n    } else {\n      $s.arrFiltersStatus[0] = false;\n      if (villa.f8 != undefined) {\n        var idRegion = +villa.f8[0].f3.replace(/\\|/g, \"\");\n        for (var i = 0; i < $s.selectedRegion.length; i++) {\n          for (var j = 0; j < $s.regionsMapping.length; j++) {\n            if ($s.regionsMapping[j].name == $s.selectedRegion[i].name && idRegion == $s.regionsMapping[j].id) {\n              return true;\n            } else {\n              continue;\n            }\n          }\n        }\n      }\n      return false;\n    }\n  };\n\n  $s.$watch('selectedDir', function () {\n    setHandlers('directionsSelect');\n  });\n\n  $s.$watch('selectedRoom', function () {\n    setHandlers('roomsSelect');\n    setOrderByField('r_counter');\n  });\n\n  $s.$watch('selectedGuest', function () {\n    setHandlers('guestsSelect');\n    setOrderByField('person_counter');\n  });\n\n  var setOrderByField = function setOrderByField(param, event) {\n\n    $s.orderByField = param;\n    $s.reverseSort = false;\n  };\n  $s.byRoom = function (villa) {\n\n    if ($s.selectedRoom != '-- Количество спален --') {\n      $s.arrFiltersStatus[2] = false;\n      return parseInt(villa.r_counter) >= parseInt($s.selectedRoom);\n    } else {\n      // $s.orderByField = 'min_price';\n      // $s.reverseSort = true;\n      $s.arrFiltersStatus[2] = true;\n      return true;\n    }\n  };\n\n  $s.byGuest = function (villa) {\n    if ($s.selectedGuest != '-- Количество гостей --') {\n      $s.arrFiltersStatus[3] = false;\n      return parseInt(villa.person_counter) >= parseInt($s.selectedGuest);\n    } else {\n      // $s.orderByField = 'min_price';\n      // $s.reverseSort = true;\n      $s.arrFiltersStatus[3] = true;\n      return true;\n    }\n  };\n\n  $s.byMinPrice = function (villa) {\n    if (parseInt($s.selectedMinPrice) > parseInt(villa.min_price)) {\n      $s.arrFiltersStatus[4] = false;\n    } else {\n      $s.arrFiltersStatus[4] = true;\n    }\n    return parseInt(villa.min_price) >= parseInt($s.selectedMinPrice);\n  };\n\n  $s.byMaxPrice = function (villa) {\n\n    if (parseInt($s.selectedMaxPrice) < parseInt(villa.max_price)) {\n      $s.arrFiltersStatus[5] = false;\n    } else {\n      $s.arrFiltersStatus[5] = true;\n    }\n    return parseInt(villa.max_price) <= parseInt($s.selectedMaxPrice) || !villa.max_price && !villa.min_price;\n  };\n  $s.$watchCollection('arrFiltersStatus', function () {\n\n    var status = $s.arrFiltersStatus.every(function (status) {\n      return status;\n    });\n    if (status) {\n      $s.showResetButton = false;\n    } else {\n      $s.showResetButton = true;\n    }\n  });\n  //функция сброса фильтров\n  $s.resetFilters = function () {\n\n    //   if(localStorage.getItem(\"query\")) {\n    //      var query = localStorage.getItem(\"query\");\n    //      $s.regions.forEach(function(region) {\n    //       if(region.f1.indexOf(query) > -1 ) {\n    //          region.selected = false;\n    //       }\n    //      })\n    //   }\n    //   if(localStorage.getItem(\"regionFromMain\")) {\n    //      var query = localStorage.getItem('regionFromMain');\n    //      $s.regions.forEach(function(region) {\n    //       if(region.f1.indexOf(query) > -1 ) {\n    //          region.selected = false;\n    //       }\n    //      })\n    //   }\n    //   localStorage.clear;\n\n    $s.selectedRegion = [];\n    $s.regions.forEach(function (reg) {\n      reg.selected = false;\n    });\n    $s.selectedDir = '-- Все направления --';\n    $s.selectedRoom = '-- Количество спален --';\n    $s.selectedGuest = '-- Количество гостей --';\n    $s.selectedMinPrice = $s.resetMinPrice;\n    $s.selectedMaxPrice = $s.resetMaxPrice;\n    //jQuery(\"input#minCost\").keyup();\n    //jQuery(\"input#maxCost\").keyup();\n    for (var key in $s.check) {\n\n      $s.check[key] = false;\n    }\n    $s.selectedRecreationStyle = [];\n    for (var key in $s.checkBenefit) {\n\n      $s.checkBenefit[key] = false;\n    }\n    $s.selectedSpecialBenefit = [];\n    $s.bySearch = '';\n    $s.searchValue = '';\n    $s.showResetButton = false;\n  };\n  // массив с выбранными типами отдыха\n  $s.setRecreationStyle = function (currentStyle, check) {\n    if (!check) {\n      $s.selectedRecreationStyle = $s.selectedRecreationStyle.filter(function (item) {\n        return item !== currentStyle;\n      });\n    } else {\n      $s.selectedRecreationStyle.push(currentStyle);\n    }\n  };\n  //debugger;\n  switch ($s.searchValue) {\n    case 'Виллы у Моря':\n      $s.searchValue = '';\n      $s.selectedRecreationStyle.push('Виллы у Моря');\n      $s.check[0] = true;\n      break;\n    case 'Поместья и Замки':\n      $s.searchValue = '';\n      $s.selectedRecreationStyle.push('Поместья и Замки');\n      $s.check[1] = true;\n      break;\n    case 'Шале в горах':\n      $s.searchValue = '';\n      $s.selectedRecreationStyle.push('Шале в горах');\n      $s.check[2] = true;\n      break;\n\n  }\n  // $s.setRecreationStyle = function(value) {\n  //   var add = true;\n  //   var remove;\n  //   if($s.selectedRecreationStyle && $s.selectedRecreationStyle.length) {\n  //     $s.selectedRecreationStyle.forEach(function(style) {\n  //       if(style == value) {\n  //         add = false;\n  //         $s.selectedRecreationStyle.splice($s.selectedRecreationStyle.indexOf(style), 1);\n  //       }\n  //     });\n  //     if(add) {\n  //       $s.selectedRecreationStyle.push(value);\n  //     }\n  //   } else {\n  //     $s.selectedRecreationStyle.push(value);\n\n  //   }\n\n  // }\n\n  // if(temp && temp!= '') {\n  //   $s.setRecreationStyle(temp);\n  //   localStorage.removeItem('recStyle');     \n  // }\n\n  // if(localStorage.searchValue) {\n  //   localStorage.removeItem('searchValue');     \n  // }\n\n  // $s.check = function(check) {\n\n  //   var result = false;\n\n  //   $s.recreationStyles.forEach(function(item){\n  //     if(item == temp && item == check) {\n  //      result = true;\n  //    }\n  //  });\n  //   return result;\n  // };\n  //Фильтр по выбранным типам отдыха\n  $s.byRecreationStyle = function (villa) {\n    if ($s.selectedRecreationStyle.length == 0) {\n      $s.arrFiltersStatus[6] = true;\n      return true;\n    } else {\n      $s.arrFiltersStatus[6] = false;\n      for (var i = 0; i < $s.selectedRecreationStyle.length; i++) {\n        if (villa.recreation_style === $s.selectedRecreationStyle[i]) {\n          return true;\n        }\n      }\n    }\n  };\n\n  // $s.byRecreationStyle = function(villa) {\n\n  //   if($s.selectedRecreationStyle && $s.selectedRecreationStyle.length) {\n  //     var show = false;\n  //     $s.selectedRecreationStyle.forEach(function(style) {\n  //       if(style == villa.recreation_style) {\n  //         show = true;\n  //         return;\n\n  //       }\n  //     })\n  //     if(show) {\n  //       return true;\n  //     } else {\n  //       return false;\n  //     }\n  //   } else {\n  //     return true;\n  //   }\n  // }\n  //Массив\n  $s.setSpecBenefit = function (currentBenefit, check) {\n    if (!check) {\n      $s.selectedSpecialBenefit = $s.selectedSpecialBenefit.filter(function (item) {\n        return item !== currentBenefit;\n      });\n    } else {\n      $s.selectedSpecialBenefit.push(currentBenefit);\n    }\n  };\n  $s.bySpecBenefit = function (villa) {\n\n    if ($s.selectedSpecialBenefit.length == 0) {\n      $s.arrFiltersStatus[7] = true;\n      return true;\n    } else {\n      if (villa.f12) {\n        $s.arrFiltersStatus[7] = false;\n        for (var i = 0; i < $s.selectedSpecialBenefit.length; i++) {\n          for (var j = 0; j < villa.f12.length; j++) {\n            //debugger;\n            if (villa.f12[j].f1 === $s.selectedSpecialBenefit[i]) {\n              //debugger;\n              return true;\n            }\n          }\n        }\n      }\n    }\n  };\n  $s.$watch('searchValue', function () {\n    //location.hash =\"#/\"+$s.searchValue;\n    //debugger;\n    // if($s.searchValue == 'В горах'){\n    //   //debugger;\n    //   $s.searchValue ='';\n    // }else{\n    //   //debugger;\n    $s.bySearch = $s.searchValue;\n    //}\n  });\n  $s.$watch('bySearch', function () {\n    if ($s.bySearch) {\n      $s.arrFiltersStatus[8] = false;\n    } else {\n      $s.arrFiltersStatus[8] = true;\n    }\n  });\n\n  // $s.bySearch = function(villa) {\n  //   if(searchValue && searchValue != '') {\n  //     if(villa.name.indexOf(searchValue) > -1) {\n  //       $s.selectedRecreationStyle.push(villa.recreation_style);\n  //       $s.selectedRecreationStyle.splice(1);     \n  //     } \n  //     return villa.name.indexOf(searchValue) > -1;\n  //   } else {\n  //     return true;\n  //   }\n  // }\n\n  // !!! filters !!!\n\n  //multiSelect\n  $s.localLang = {\n    // selectAll       : \"Tick all\",\n    // selectNone      : \"Tick none\",\n    // reset           : \"Undo all\",\n    // search          : \"Type here to search...\",\n    nothingSelected: \"-- Выберите регион --\" //default-label is deprecated and replaced with this.\n  };\n\n  $s.sayHi = function (data) {};\n  //!!!multiSelect!!!\n\n  $s.showVillaInfo = function (villa) {\n    var url = 'http://';\n\n    if (villa.f8) {\n      $h.get('/api/data/table?t=345&where[field_value_id]=' + villa.f8[0].f3.replace(/\\|/g, '') + '&field=f8').success(function (host) {\n        window.location = '' + url + host + '/' + villa.url;\n      });\n      return;\n    }\n\n    if (!villa.url.match(/arenda-vill/)) url += 'www.arenda-vill.com/';\n\n    url += villa.url;\n\n    window.location = url;\n  };\n\n  function hasSubDirections(direction) {\n    return direction.f1 === direction.f2[0].f1;\n  }\n\n  function subdirectionExist(regionName, subdirName) {\n    return $s.regions[regionName].directions.some(function (dir) {\n      return dir.name === subdirName;\n    });\n  }\n\n  function regions() {\n    db.request('/api/data/table?t=343',function (directions) {\n\n      if (directions && directions.length) {\n        $s.directions = directions;\n        $s.directions.forEach(function (direct) {\n          var regionName = direct.f3[0].f1,\n              subdirection = direct.f2[0],\n              directionName = direct.f1;\n\n          if (!$s.regions[regionName]) {\n            $s.regions[regionName] = {\n              name: regionName,\n              directions: [],\n              id: direct.f3[0].field_value_id\n            };\n          }\n\n          if (hasSubDirections(direct)) {\n            $s.regions[regionName].directions.push({\n              name: subdirection.f1,\n              url: direct.f6\n            });\n          } else {\n\n            var alreadyExist = subdirectionExist(regionName, directionName);\n            switch (subdirectionExist(regionName, subdirection.f1)) {\n              case true:\n                $s.regions[regionName].directions.push({\n                  name: directionName,\n                  url: direct.f6,\n                  isDirection: true\n                });\n                break;\n              case false:\n                $s.regions[regionName].directions.push({\n                  name: subdirection.f1,\n                  url: direct.f6\n                });\n                $s.regions[regionName].directions.push({\n                  name: directionName,\n                  url: direct.f6,\n                  isDirection: true\n                });\n                break;\n            }\n          }\n        });\n      }\n      // var regionKeys = Object.keys($s.regions)\n      // regionKeys.forEach(function(key) {\n      //   $s.urlReg.forEach(function(u){\n      //     if($s.regions[key].name == u.name) {\n      //       $s.regions[key].url = u.url;\n      //     }\n      //   })\n\n      // })\n    });\n  }\n  var is_chrome = navigator.userAgent.indexOf('Chrome') > -1;\n  var is_explorer = navigator.userAgent.indexOf('MSIE') > -1;\n  var is_firefox = navigator.userAgent.indexOf('Firefox') > -1;\n  var is_safari = navigator.userAgent.indexOf(\"Safari\") > -1;\n  var is_opera = navigator.userAgent.toLowerCase().indexOf(\"op\") > -1;\n  if (is_chrome && is_safari) {\n    is_safari = false;\n  }\n  if (is_chrome && is_opera) {\n    is_chrome = false;\n  }\n\n  $s.$on('ngRepeatFinished', function () {\n    getSlider();\n    if (is_safari) {\n      var btns = document.getElementsByClassName('button-arrow');\n      Array.prototype.slice.call(btns).forEach(function (b) {\n        b.style.minWidth = '150px';\n        if (window.innerWidth <= 768) {\n          b.style.top = '-15px';\n        }\n      });\n    }\n\n    if (is_firefox) {\n      if (window.innerWidth <= 1024) {\n        var styleElem = document.head.appendChild(document.createElement(\"style\"));\n        styleElem.innerHTML = \"#liked.blocks .button-arrow a:after {top: -4px;}\";\n      }\n    }\n  });\n  $s.modalSlide = function (argument) {\n    console.log('121r423modal');\n  };\n}]);\n\nfunction filterByTableId(obj, tableId) {\n  return obj.filter(function (el) {\n    return el.table_id == tableId;\n  });\n}\n\napp.directive('onFinishRender', function ($timeout) {\n  return {\n    restrict: 'A',\n    link: function link(scope, element, attr) {\n      if (scope.$last === true) {\n        $timeout(function () {\n          scope.$emit('ngRepeatFinished');\n        });\n      }\n    }\n  };\n});\nfunction checkboxlayer(regions) {\n  var mSlct = document.querySelector('.checkboxLayer');\n  if (!mSlct) {\n    setTimeout(function() {\n      checkboxlayer(regions);\n    },100);\n    return;\n  }\n  mSlct.style.minWidth = '0px';\n  mSlct.style.borderRadius = '0px';\n  mSlct.style.color = '#666666';\n\n  var checkboxContainter = document.querySelector('.checkBoxContainer');\n  checkboxContainter.style.height = '170px';\n\n  console.log($('.multiSelectItem'));\n\n  var checkboxItem = document.querySelectorAll('.multiSelectItem');\n  // checkboxItem.style.backgroundImage = 'linear-gradient( #C3B1B1, #E0BDBD )';\n  $('.multiSelectItem').css('background-image', 'linear-gradient( #FF0000, #999 ) !important');\n\n  if (regions.length > 5) {\n    checkboxContainter.style.overflowY = 'scroll';\n  } else {\n    checkboxContainter.style.overflowY = 'hidden';\n  }\n}\n\nfunction setHandlers(selectId) {\n  var slt = document.getElementById(selectId);\n  if (slt != null) {\n    var foo = slt.options[slt.selectedIndex];\n    Array.prototype.slice.call(slt.options).forEach(function (o) {\n      if (o.classList.contains('s-background')) {\n        o.classList.remove('s-background');\n      }\n    });\n    if (slt.selectedIndex != 0) {\n      foo.classList.add('s-background');\n    }\n  }\n}\n\nfunction getSlider() {\n  im = document.getElementsByClassName('openImage');\n  for (i = 0; i < im.length; i++) {\n    im[i].onclick = function () {\n      var index = 0;\n      var items = [];\n      var pswpElement = document.querySelectorAll('.pswp')[0];\n      var g = document.querySelectorAll('img[gallery=\"' + this.getAttribute('gallery') + '\"]');\n      var gal = this.getAttribute('gallery');\n      for (x = 0; x < g.length; x++) {\n        if (g[x] == this) index = x;\n        items[x] = {\n          src: g[x].src,\n          w: g[x].getAttribute('w'),\n          h: g[x].getAttribute('h')\n        };\n        g[x].id;\n      }\n      var options = {\n        index: index,\n\n        getThumbBoundsFn: function getThumbBoundsFn(index) {\n          var thumbnail = document.querySelectorAll('img[gallery=\"' + gal + '\"]')[index];\n          var pageYScroll = window.pageYOffset || document.documentElement.scrollTop;\n          var rect = thumbnail.getBoundingClientRect();\n          return { x: rect.left, y: rect.top + pageYScroll, w: rect.width };\n        },\n\n        shareEl: false,\n        zoomEl: true\n      };\n      var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n      gallery.init();\n    };\n  }\n}\n\n/* слайдер цен */\n\n// jQuery(\"#slider\").slider({\n//  min: 0,\n//  max: 30000,\n//  values: [1000,27000],\n//  range: true,\n//  stop: function(event, ui) {\n//    jQuery(\"input#minCost\").val(jQuery(\"#slider\").slider(\"values\",0));\n//    jQuery(\"input#maxCost\").val(jQuery(\"#slider\").slider(\"values\",1));\n\n//     },\n//     slide: function(event, ui){\n//    jQuery(\"input#minCost\").val(jQuery(\"#slider\").slider(\"values\",0));\n//    jQuery(\"input#maxCost\").val(jQuery(\"#slider\").slider(\"values\",1));\n//     }\n// });\n\n// jQuery(\"input#minCost\").change(function(){\n\n//  var value1=jQuery(\"input#minCost\").val();\n//  var value2=jQuery(\"input#maxCost\").val();\n\n//     if(parseInt(value1) > parseInt(value2)){\n//    value1 = value2;\n//    jQuery(\"input#minCost\").val(value1);\n//  }\n//  jQuery(\"#slider\").slider(\"values\",0,value1);\n// });\n\n// jQuery(\"input#maxCost\").change(function(){\n\n//  var value1=jQuery(\"input#minCost\").val();\n//  var value2=jQuery(\"input#maxCost\").val();\n\n//  if (value2 > 30000) { value2 = 30000; jQuery(\"input#maxCost\").val(30000)}\n\n//  if(parseInt(value1) > parseInt(value2)){\n//    value2 = value1;\n//    jQuery(\"input#maxCost\").val(value2);\n//  }\n//  jQuery(\"#slider\").slider(\"values\",1,value2);\n// });\n\n// фильтрация ввода в поля\n// jQuery('input').keypress(function(event){\n//  var key, keyChar;\n//  if(!event) var event = window.event;\n\n//  if (event.keyCode) key = event.keyCode;\n//  else if(event.which) key = event.which;\n\n//  if(key==null || key==0 || key==8 || key==13 || key==9 || key==46 || key==37 || key==39 ) return true;\n//  keyChar=String.fromCharCode(key);\n\n//  if(!/\\d/.test(keyChar)) return false;\n\n// });\n\n//});\n\n$(window).load(function () {\n\n  $('option').mouseover(function () {\n    console.log('over');\n  });\n\n  $('.sort:first-of-type li:not(:first-of-type)').click(function () {\n    $(this).toggleClass('active-sort');\n  });\n  $('.w30 button.button-add').click(function () {\n    $(this).toggleClass('active-ad');\n    if ($(this).children().text() == \"Добавить в заявку\") $(this).children().text(\"Добавлено\");else $(this).children().text(\"Добавить в заявку\");\n  });\n  $('.sort:last-of-type li:nth-of-type(3)').click(function () {\n    $('#liked').addClass('blocks');\n    $(this).addClass('active-tab');\n    $('.sort:last-of-type li:nth-of-type(2)').removeClass('active-tab');\n  });\n  $('.sort:last-of-type li:nth-of-type(2)').click(function () {\n    $('#liked').removeClass('blocks');\n    $(this).addClass('active-tab');\n    $('.sort:last-of-type li:nth-of-type(3)').removeClass('active-tab');\n  });\n  $('.mob-list li').click(function () {\n    if ($(this).hasClass('act-filt')) {\n      $(this).removeClass('act-filt');\n    } else {\n      $(this).addClass('act-filt');\n    }\n  });\n  $('.last-btn').click(function () {\n    var datatype = $(this).attr('data-type');\n    $('.' + datatype).slideToggle();\n    //console.log($('[data-type=\"'+datatype+'\"]'));\n    $('[data-type=\"' + datatype + '\"]').removeClass('act-filter');\n    $('body').removeClass('active');\n  });\n  $('.sort-filt li:not(:nth-of-type(2))').click(function () {\n    var datatype = $(this).attr('data-type');\n    $('.' + datatype).slideToggle();\n    if ($(this).hasClass('act-filter')) {\n      $(this).removeClass('act-filter');\n      $('.' + datatype).removeClass('display');\n      $('body').removeClass('active');\n    } else {\n      if ($('.sort-filt li:not(:nth-of-type(2))').hasClass('act-filter')) {\n        var notThisType = $('.sort-filt li:not(:nth-of-type(2)).act-filter').attr('data-type');\n        if (datatype != notThisType) {\n          $('.' + notThisType).removeClass('display').css('display', 'none');\n          $('body').removeClass('active');\n          $('.sort-filt li:not(:nth-of-type(2))').removeClass('act-filter');\n        }\n      }\n      $(this).addClass('act-filter');\n      $('.' + datatype).addClass('display');\n      $('body').addClass('active');\n    }\n    // $('.'+datatype).toggle();\n  });\n});\n\n//# sourceMappingURL=лучшие-виллы-compiled.js.map"]}