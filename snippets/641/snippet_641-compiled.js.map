{"version":3,"sources":["snippet_641.js"],"names":[],"mappings":"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","file":"snippet_641-compiled.js","sourcesContent":["\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar currentSlide = 0;\nvar globalSlideshowId;\nvar slideshowInterval = 8000;\nvar TABLES = {\n    VILLAS: 342,\n    FEATURES: 348,\n    DIRECTIONS: 343,\n    REGIONS: 345,\n    SUB_REGIONS: 344,\n    ADDITIONAL_FIELDS: 364,\n    IMAGES: 428\n};\nvar coord = [{\n    \"title\": \"Канны\",\n    \"longitude\": \"7.017369\",\n    \"latitude\": \"43.552847\"\n}, {\n    \"id\": 39,\n    \"title\": \"Vikingtokt\",\n    \"longitude\": \"6.96781\",\n    \"latitude\": \"60.96335\"\n}];\n\nvar BreadCrumb = function BreadCrumb(text, url) {\n    _classCallCheck(this, BreadCrumb);\n\n    this.url = url;\n    this.text = text;\n};\n\nwindow.addEventListener('load', function () {\n    $(document).ready(function () {\n\n        (function ($) {\n            $('.tab ul.tabs').addClass('active').find('> li:eq(0)').addClass('current');\n\n            $('.tab ul.tabs li a').click(function (g) {\n                var tab = $(this).closest('.tab'),\n                    index = $(this).closest('li').index();\n\n                tab.find('ul.tabs > li').removeClass('current');\n                $(this).closest('li').addClass('current');\n\n                tab.find('.tab_content').find('div.tabs_item').not('div.tabs_item:eq(' + index + ')').slideUp();\n                tab.find('.tab_content').find('div.tabs_item:eq(' + index + ')').slideDown();\n\n                g.preventDefault();\n            });\n        })(jQuery);\n    });\n\n    var is_chrome = navigator.userAgent.indexOf('Chrome') > -1;\n    var is_explorer = navigator.userAgent.indexOf('MSIE') > -1;\n    var is_firefox = navigator.userAgent.indexOf('Firefox') > -1;\n    var is_safari = navigator.userAgent.indexOf(\"Safari\") > -1;\n    var is_opera = navigator.userAgent.toLowerCase().indexOf(\"op\") > -1;\n    if (is_chrome && is_safari) {\n        is_safari = false;\n    }\n    if (is_chrome && is_opera) {\n        is_chrome = false;\n    }\n\n    if (is_firefox) {\n        var styleElem = document.body.appendChild(document.createElement(\"style\"));\n        styleElem.innerHTML = \".tab .tabs_item p span:before {display: inline-block;}\";\n    }\n});\n\napp.controller('descriptionCtrl', ['$scope', '$http', 'setCookieFact', '$sce', function ($s, $h, setCookieFact, $sce) {\n\n    $s.targetDirect;\n    $s.breadcrumbs = [];\n    $s.template = {};\n    $s.coordinates = {};\n    $s.weather = {\n        temp: [],\n        precip: []\n    };\n    $s.currentVills = [];\n    $s.hostname = window.location.hostname;\n    $s.path = decodeURI(window.location.pathname.substr(1));\n    $s.targetUrl = $s.hostname + \"/\" + $s.path;\n\n    $h.get(\"/api/data/table?t=\" + TABLES.SUB_REGIONS + \"&where[f2]=\" + location.pathname.substr(1)).success(initSubRegion);\n    $h.get(\"/api/data/table?t=\" + TABLES.DIRECTIONS + \"&where[f6]=\" + location.pathname.substr(1)).success(initDir);\n\n    function initDir(data) {\n        if (!data || !data.length) return;\n\n        var dir = data[0];\n\n        $h.get(\"/api/data/table?t=\" + TABLES.IMAGES + \"&where[f4]=\" + dir.field_value_id).success(function (images) {\n            $s.subDir.images = images;\n        });\n        // no subdirs in directions\n        // $h.get(`/api/data/table?t=${TABLES.DIRECTIONS}&where[f2]=${dir.field_value_id}`)\n        //     .success(dirs => {\n        //         dir.directions = dirs || [];\n        //         let where = dir.directions.map(dir => `where[f8][]=${dir.field_value_id}`).join('&');\n        //         $h.get(`/api/data/table?t=${TABLES.VILLAS}&${where}`)\n        //             .success(villas => {\n        //                 $s.currentVills = villas;\n        //                 checkVillaStatus($s.currentVills);\n        //             })\n        //     });\n        $s.subDir = Object.assign({}, dir);\n        var region = dir.f3 ? dir.f3[0] : null;\n        var subRegion = dir.f2 ? dir.f2[0] : null;\n\n        $s.subDir.f10 = dir.f7;\n        $s.subDir.f11 = dir.f8;\n        $s.subDir.f12 = dir.f9;\n        $s.subDir.f13 = dir.f10;\n\n        // desc\n        $s.subDir.f3 = $sce.trustAsHtml(dir.f16);\n        // clim\n        $s.subDir.f7 = $sce.trustAsHtml(dir.f17);\n        // infrastr\n        $s.subDir.f8 = $sce.trustAsHtml(dir.f18);\n        // key places\n        $s.subDir.f9 = $sce.trustAsHtml(dir.f19);\n\n        // map\n        if (dir.f5) {\n            $s.coordinates = {\n                lat: getCoordinates(dir.f5, 'latitude'),\n                lng: getCoordinates(dir.f5, 'longitude')\n            };\n            // рисуем карту\n            initializeMap($s.coordinates, dir.f1);\n        } else {\n            initializeMap(); // рисуем карту если координаты не заданы в таблице\n        }\n\n        // temperatures graphs\n        $s.weather.temp = (dir.f11 || '-----------').split('-');\n        $s.weather.precip = (dir.f12 || '-----------').split('-');\n\n        barChart($s.weather.temp, '#C49E21', '*C', '.chart-1');\n        barChart($s.weather.precip, '#25B5E6', 'mm', '.chart-2');\n\n        // todo: load proper villas\n\n        var breadcrumbs = [];\n\n        if (region) {\n            breadcrumbs.push(new BreadCrumb(region.f1, \"http://\" + (region.f10 || region.f8)));\n        }\n        if (region && subRegion) {\n            breadcrumbs.push(new BreadCrumb(subRegion.f1, \"http://\" + (region.f10 || region.f8) + \"/\" + subRegion.f2));\n        }\n\n        breadcrumbs.push(new BreadCrumb($s.subDir.f1, location.toString()));\n\n        $s.breadcrumbs = breadcrumbs;\n\n        $s.subDir.isDir = true;\n\n        addDirectionVillas($s.subDir.field_value_id, true);\n    }\n\n    function initSubRegion(data) {\n        if (!data || !data.length) return;\n\n        var subDir = data[0];\n\n        $h.get(\"/api/data/table?t=\" + TABLES.IMAGES + \"&where[f5]=\" + subDir.field_value_id).success(function (images) {\n            subDir.images = images;\n        });\n        $h.get(\"/api/data/table?t=\" + TABLES.DIRECTIONS + \"&where[f2]=\" + subDir.field_value_id).success(function (dirs) {\n            subDir.directions = dirs || [];\n            var where = subDir.directions.map(function (dir) {\n                return \"where[f8][]=\" + dir.field_value_id;\n            }).join('&');\n            $h.get(\"/api/data/table?t=\" + TABLES.VILLAS + \"&\" + where).success(function (villas) {\n                $s.currentVills = villas;\n                checkVillaStatus($s.currentVills);\n            });\n        });\n\n        $s.subDir = subDir;\n\n        subDir.f3 = $sce.trustAsHtml(subDir.f3);\n        subDir.f7 = $sce.trustAsHtml(subDir.f7);\n        subDir.f8 = $sce.trustAsHtml(subDir.f8);\n        subDir.f9 = $sce.trustAsHtml(subDir.f9);\n\n        // map\n        if (subDir.f4) {\n            $s.coordinates = {\n                lat: getCoordinates(subDir.f4, 'latitude'),\n                lng: getCoordinates(subDir.f4, 'longitude')\n            };\n            // рисуем карту\n            initializeMap($s.coordinates, subDir.f1);\n        } else {\n            initializeMap(); // рисуем карту если координаты не заданы в таблице\n        }\n\n        // temperatures graphs\n        $s.weather.temp = (subDir.f5 || '-----------').split('-');\n        $s.weather.precip = (subDir.f6 || '-----------').split('-');\n\n        barChart($s.weather.temp, '#C49E21', '*C', '.chart-1');\n        barChart($s.weather.precip, '#25B5E6', 'mm', '.chart-2');\n\n        // todo: load proper villas\n\n        $h.get(\"/api/data/table?t=\" + TABLES.REGIONS + \"&where[f4]=\" + $s.subDir.field_value_id).success(function (data) {\n            if (data) {\n                var region = data.pop();\n\n                var breadcrumbs = [];\n\n                breadcrumbs.push(new BreadCrumb(region.f1, \"http://\" + (region.f10 || region.f8)));\n                breadcrumbs.push(new BreadCrumb($s.subDir.f1, location.toString()));\n\n                $s.breadcrumbs = breadcrumbs;\n            }\n        });\n\n        $s.subDir.isDir = false;\n\n        $h.get(\"/api/data/table?t=\" + TABLES.DIRECTIONS + \"&where[f2]=\" + $s.subDir.field_value_id).success(function (data) {\n            if (data && data.length) {\n\n                var wheres = data.map(function (item) {\n                    return \"where[f8][]=\" + item.field_value_id;\n                }).join('&');\n\n                $h.get(\"/api/data/table?t=\" + TABLES.VILLAS + \"&\" + wheres).success(function (villas) {\n                    $s.currentVills = villas;\n                    checkVillaStatus($s.currentVills);\n                });\n            }\n        });\n    }\n\n    function addDirectionVillas(direction_id) {\n        var callCheckBool = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\n        $h.get(\"/api/data/table?t=\" + TABLES.VILLAS + \"&where[f8]=\" + direction_id).success(function (data) {\n            if (data) $s.currentVills = $s.currentVills.concat(data);\n            if (callCheckBool) checkVillaStatus($s.currentVills);\n        });\n    }\n\n    function checkVillaStatus(villas) {\n        console.log($s.subDir);\n        villas.forEach(function (villa) {\n            villa.img = \"/api/data/table?t=428&field=f2&where[f1]=\" + villa.field_value_id + \"&where[f3]=yes&as=image&count=1\";\n        });\n\n        // $h.get('/api/data/table?t=364')\n        //     .success(function(vills){\n        //         console.log(vills);\n        //         vills.forEach(function(villa){\n        //             villas.forEach(function(elem){\n        //                 if(villa.f1) {\n        //                     if(elem.name == villa.f1[0].f1 && villa.status == 'hide') {\n        //                         var position = villas.indexOf(elem);\n        //                         villas.splice(position, 1);\n        //                     }\n        //                 }\n        //             })\n        //         })\n        //     })\n    }\n\n    function cutText(string, index, part) {\n        var sentences = string.split(\".\");\n        if (part == 1) {\n            var text = sentences.slice(0, index).join('.');\n        } else {\n            var text = sentences.slice(index).join('.');\n        }\n        return text;\n    }\n    function getCoordinates(coordinates, param) {\n        if (param == 'latitude') {\n            var result = coordinates.split(\",\")[0]; // latitude\n        } else {\n            var result = coordinates.split(\",\")[1]; // longitude\n        }\n        return result;\n    }\n\n    console.log($s, 'scope');\n\n    $s.setFavouriteVilla = function (villaId, event) {\n        if (!event.target.classList.contains('active-like')) {\n            document.getElementById('modal').classList.add('show');\n            return setCookieFact.setFavouriteVilla(villaId);\n        } else {\n            return setCookieFact.setFavouriteVilla(villaId);\n        }\n    };\n    $s.showVillaInfo = function (villa) {\n\n        window.location = 'http://' + location.host + '/' + villa.url;\n    };\n\n    $s.urlReg = [{\n        name: 'Азия',\n        url: 'http://www.arenda-vill-asia.com'\n    }, {\n        name: 'Карибы',\n        url: 'http://www.arenda-vill-karibi.com'\n    }, {\n        name: 'Франция',\n        url: 'http://www.arenda-vill-franciya.com/'\n    }, {\n        name: 'Италия',\n        url: '/region' // http://www.arenda-vill-italiya.com\n    }, {\n        name: 'Испания',\n        url: 'http://www.arenda-vill-ispaniya.com/'\n    }, {\n        name: 'Балканы',\n        url: 'http://www.arenda-vill-balkany.com'\n    }, {\n        name: 'Альпы',\n        url: '/region'\n    }];\n\n    $s.slidePoint = function (index) {\n        var items = Array.prototype.slice.call(document.querySelectorAll('.item.ng-scope'));\n        var points = Array.prototype.slice.call(document.querySelectorAll('.point.ng-scope'));\n\n        var currentIndex = null;\n        var currentPoint = null;\n        points.forEach(function (point) {\n            if (point.classList.contains('active')) {\n                point.classList.remove('active');\n            }\n        });\n        items.forEach(function (item) {\n            if (item.classList.contains('fx')) {\n                item.classList.remove('fx');\n            }\n        });\n        items[index].classList.add('fx');\n        points[index].classList.add('active');\n\n        clearInterval(carousel);\n        carousel = setInterval(function () {\n            runCrousel();\n        }, 8000);\n    };\n    $s.nextSlide = function () {\n        var items = Array.prototype.slice.call(document.querySelectorAll('.item.ng-scope'));\n        var points = Array.prototype.slice.call(document.querySelectorAll('.point.ng-scope'));\n\n        var currentIndex = null;\n        var currentPoint = null;\n        points.forEach(function (point) {\n            if (point.classList.contains('active')) {\n                currentPoint = points.indexOf(point);\n            }\n        });\n        items.forEach(function (item) {\n            if (item.classList.contains('fx')) {\n                currentIndex = items.indexOf(item);\n            }\n        });\n        if (currentIndex < items.length - 1) {\n            items[currentIndex].classList.remove('fx');\n            points[currentIndex].classList.remove('active');\n\n            items[currentIndex + 1].classList.add('fx');\n            points[currentIndex + 1].classList.add('active');\n        } else {\n            items[currentIndex].classList.remove('fx');\n            items[0].classList.add('fx');\n\n            points[currentIndex].classList.remove('active');\n            points[0].classList.add('active');\n        }\n        clearInterval(carousel);\n        carousel = setInterval(function () {\n            runCrousel();\n        }, 8000);\n    };\n    $s.prevSlide = function () {\n        var items = Array.prototype.slice.call(document.querySelectorAll('.item.ng-scope'));\n        var points = Array.prototype.slice.call(document.querySelectorAll('.point.ng-scope'));\n\n        var currentIndex = null;\n        var currentPoint = null;\n        points.forEach(function (point) {\n            if (point.classList.contains('active')) {\n                currentPoint = points.indexOf(point);\n            }\n        });\n        items.forEach(function (item) {\n            if (item.classList.contains('fx')) {\n                currentIndex = items.indexOf(item);\n            }\n        });\n        if (currentIndex == 0) {\n            items[currentIndex].classList.remove('fx');\n            points[currentIndex].classList.remove('active');\n\n            items[items.length - 1].classList.add('fx');\n            points[points.length - 1].classList.add('active');\n        } else {\n            items[currentIndex].classList.remove('fx');\n            points[currentIndex].classList.remove('active');\n\n            items[currentIndex - 1].classList.add('fx');\n            points[currentIndex - 1].classList.add('active');\n        }\n        clearInterval(carousel);\n        carousel = setInterval(function () {\n            runCrousel();\n        }, 8000);\n    };\n\n    var carousel = setInterval(function () {\n        runCrousel();\n    }, 8000);\n\n    function runCrousel() {\n        var items = Array.prototype.slice.call(document.querySelectorAll('.item.ng-scope'));\n        var points = Array.prototype.slice.call(document.querySelectorAll('.point.ng-scope'));\n\n        function slide(array, className) {\n            var lem = null;\n            array.forEach(function (elem) {\n                if (elem.classList.contains(className)) {\n                    lem = array.indexOf(elem);\n                }\n            });\n\n            if (lem < array.length - 1) {\n                array[lem].classList.remove(className);\n                array[lem + 1].classList.add(className);\n            } else {\n                array[lem].classList.remove(className);\n                array[0].classList.add(className);\n            }\n        }\n        slide(items, 'fx');\n        slide(points, 'active');\n    }\n    window.onresize = function () {\n        var wChart = document.getElementById('chart-1'),\n            pChart = document.getElementById('chart-2');\n\n        wChart.innerHTML = \"\";\n        pChart.innerHTML = \"\";\n\n        // рисуем график температуры\n        barChart($s.weather.temp, '#C49E21', '*C', '.chart-1');\n\n        // рисуем график влажности\n        barChart($s.weather.precip, '#25B5E6', 'mm', '.chart-2');\n    };\n}]);\n// function initializeSlider() {\n//       var arrows = true;\n//       var points = true;\n//       var t = document.getElementById('slideshow-ken-burns');\n//       var item = document.querySelectorAll('.item');\n//       item[currentSlide].classList.add('fx');\n//       if (arrows) {\n//         left = document.createElement('div');\n//         left.className = 'arrow arrowLeft';\n//         left.onclick = function() { runKenBurns('prev');}\n//         t.appendChild(left);\n//         right = document.createElement('div');\n//         right.className = 'arrow arrowRight';\n//         right.onclick = function() { runKenBurns('next');}\n//         t.appendChild(right);\n//       }\n//       if (points) {\n//          p = document.createElement('div');\n//          p.className = 'points';\n//          for (i = 0; i < item.length; i++) p.innerHTML += '<div class=\"point'+(i==0?' active':'')+'\" onclick=\"runKenBurns('+i+')\"></div>';\n//          t.appendChild(p);\n//       }\n//       globalSlideshowId = setInterval(runKenBurns, slideshowInterval);\n//   }\n//   function runKenBurns(step) {\n//     item = document.getElementById('slideshow-ken-burns').querySelectorAll('.item');\n//     point = document.getElementById('slideshow-ken-burns').querySelectorAll('.point');\n//     last = item.length-1;\n//     if (step == 'next') {\n//         n = currentSlide==last ? 0 : currentSlide+1;\n//         clearInterval(globalSlideshowId);\n//         globalSlideshowId = setInterval(runKenBurns, slideshowInterval);\n//     }\n//     if (step == 'prev') {\n//         console.log(currentSlide, 'slide');\n//         n = currentSlide==0 ? last : currentSlide-1;\n//         clearInterval(globalSlideshowId);\n//         globalSlideshowId = setInterval(runKenBurns, slideshowInterval);\n//     }\n//     if (parseInt(step) || parseInt(step)===0) {\n//         if (parseInt(step) <= last && parseInt(step) >= 0) n = parseInt(step);\n//             clearInterval(globalSlideshowId);\n//             globalSlideshowId = setInterval(runKenBurns, slideshowInterval);\n//     }\n//     else {\n//         n = currentSlide==last ? 0 : currentSlide+1;\n//         item[currentSlide].classList.remove('fx');\n//         item[n].classList.add('fx');\n//     }   \n//     if (point[currentSlide]) {\n//         point[currentSlide].classList.remove('active');\n//         point[n].classList.add('active');\n//     }\n//     currentSlide = n;\n// } \n\nfunction barChart(w, color, text, deploy) {\n\n    if (window.innerWidth <= 321) {\n        var width = 280,\n            widthIndex = 280,\n            xIndex = 8;\n    } else if (window.innerWidth <= 376) {\n        var width = 335,\n            widthIndex = 335,\n            xIndex = 8;\n    } else if (window.innerWidth <= 425) {\n        var width = 385,\n            widthIndex = 385,\n            xIndex = 8;\n    } else if (window.innerWidth <= 768) {\n        var width = 710,\n            widthIndex = 500,\n            xIndex = 0;\n    } else if (window.innerWidth <= 1024) {\n        var width = 700,\n            widthIndex = 500,\n            xIndex = 0;\n    } else {\n        var width = 750,\n            widthIndex = 500,\n            xIndex = 0;\n    }\n\n    var height = 380,\n        margin = 30,\n\n    // color = '#' + 'C49E21';\n    months = [{ mon: 'Янв' }, { mon: 'Фев' }, { mon: 'Мар' }, { mon: 'Апр' }, { mon: 'Май' }, { mon: 'Июн' }, { mon: 'Июл' }, { mon: 'Авг' }, { mon: 'Сен' }, { mon: 'Окт' }, { mon: 'Ноя' }, { mon: 'Дек' }];\n\n    var keysMonths = Object.keys(months);\n    var data = [];\n    w.forEach(function (val) {\n        data.push({\n            temp: val\n        });\n    });\n\n    months.forEach(function (mon, i) {\n        data[i].mon = mon.mon;\n    });\n\n    var svg = d3.select(deploy).append(\"svg\").attr(\"class\", \"axis\").attr(\"width\", width).attr(\"height\", height);\n\n    // длина оси X= ширина контейнера svg - отступ слева и справа\n    var xAxisLength = width - 2 * margin;\n\n    // длина оси Y = высота контейнера svg - отступ сверху и снизу\n    var yAxisLength = height - 2 * margin;\n\n    // функция интерполяции значений на ось Х \n    var scaleX = d3.scale.ordinal().rangeRoundBands([0, xAxisLength + margin], .1).domain(data.map(function (d) {\n        return d.mon;\n    }));\n\n    if (deploy == \".chart-1\") {\n        var scaleY = d3.scale.linear().domain([40, 0]).range([0, yAxisLength]);\n    } else {\n        var scaleY = d3.scale.linear().domain([300, 0]).range([0, yAxisLength]);\n    }\n\n    // создаем ось X  \n    var xAxis = d3.svg.axis().scale(scaleX).orient(\"bottom\");\n\n    // создаем ось Y                \n    var yAxis = d3.svg.axis().scale(scaleY).orient(\"left\");\n\n    if (deploy == \".chart-1\") {\n        yAxis.tickValues([5, 10, 15, 20, 25, 30, 35, 40]);\n    } else {\n        // \".chart-2\"\n        yAxis.tickValues([50, 100, 150, 200, 250, 300]);\n    }\n\n    // отрисовка оси              \n    svg.append(\"g\").attr(\"class\", \"x-axis\").attr(\"transform\", // сдвиг оси вниз и вправо\n    \"translate(\" + margin + \",\" + (height - margin) + \")\").attr(\"stroke\", color).call(xAxis);\n\n    svg.append(\"g\").attr(\"class\", \"y-axis\").attr(\"transform\", // сдвиг оси вниз и вправо на margin\n    \"translate(\" + margin + \",\" + margin + \")\").attr(\"stroke\", color).call(yAxis);\n\n    d3.select(\".x-axis\").selectAll(\"text\").style(\"font-size\", \"120%\");\n\n    d3.select(\".y-axis\").selectAll(\"text\").style(\"font-size\", \"120%\");\n\n    // рисуем горизонтальные линии\n    d3.selectAll(\"g.y-axis g.tick\").append(\"line\").classed(\"grid-line\", true).attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", xAxisLength).attr(\"y2\", 0).style(\"stroke-width\", 1);\n\n    var defs = svg.append(\"defs\");\n\n    // // create filter with id #drop-shadow\n    // // height=130% so that the shadow is not clipped\n    // var filter = defs.append(\"filter\")\n    //     .attr(\"id\", \"drop-shadow\")\n    //     .attr(\"height\", \"130%\");\n\n    // // SourceAlpha refers to opacity of graphic that this filter will be applied to\n    // // convolve that with a Gaussian with standard deviation 3 and store result\n    // // in blur\n    // filter.append(\"feGaussianBlur\")\n    //     .attr(\"in\", \"SourceAlpha\")\n    //     .attr(\"stdDeviation\", 11)\n    //     .attr(\"result\", \"blur\");\n\n    // // translate output of Gaussian blur to the right and downwards with 2px\n    // // store result in offsetBlur\n    // filter.append(\"feOffset\")\n    //     .attr(\"dx\", 10)\n    //     .attr(\"dy\", 5)\n    //     .attr(\"result\", \"offsetBlur\");\n\n    // // overlay original SourceGraphic over translated blurred opacity by using\n    // // feMerge filter. Order of specifying inputs is important!\n    // var feMerge = filter.append(\"feMerge\");\n\n    // feMerge.append(\"feMergeNode\")\n    //     .attr(\"in\", \"offsetBlur\")\n    // feMerge.append(\"feMergeNode\")\n    //     .attr(\"in\", \"SourceGraphic\");\n\n    d3.selectAll('g.y-axis g.tick').style('stroke-width', 5);\n\n    svg.append(\"g\").append(\"text\").attr(\"x\", margin + 5).attr(\"y\", margin - 11).attr(\"text-anchor\", \"end\").style(\"font-size\", \"11px\").text(text);\n\n    svg.append(\"g\").attr(\"transform\", \"translate(40, 0)\").selectAll(\".bar\").data(data).enter().append(\"rect\").attr(\"class\", \"bar\").attr(\"x\", function (d) {\n        return scaleX(d.mon) - xIndex;\n    }).attr(\"width\", widthIndex / 12 - margin + 20).attr(\"y\", function (d) {\n        return scaleY(d.temp);\n    }).attr(\"height\", function (d) {\n        return height - scaleY(d.temp) - 60;\n    }).attr(\"fill\", color);\n    //   .style(\"filter\", \"url(#drop-shadow)\");    \n}\n\nvar map;\n\nvar json = [{ \"id\": 48,\n    \"title\": \"Helgelandskysten\",\n    \"longitude\": \"7.017369\",\n    \"latitude\": \"43.552847\"\n}];\n// The JSON data\n\nfunction initializeMap(coo, directName) {\n\n    if (arguments.length == 2) {\n        var coordinates = [coo.lat, coo.lng];\n        var mymap = L.map('map').setView(coordinates, 12);\n        mymap.scrollWheelZoom.disable();\n\n        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {\n            attribution: 'Map data © <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA          </a>, Imagery © <a href=\"http://mapbox.com\">Mapbox</a>',\n            maxZoom: 18,\n            id: 'zardwi.02b6pmgg',\n            accessToken: 'pk.eyJ1IjoiemFyZHdpIiwiYSI6ImNpbnZxOTRieTAwcHR2c2tsZng2amgwdmsifQ.HDmszTUL_ChtJUXtMLy9vQ'\n        }).addTo(mymap);\n\n        var vIcon = L.icon({\n            iconUrl: '/files/villa/location_pin.png',\n            iconSize: [56, 80],\n            iconAnchor: [22, 76],\n            popupAnchor: [-97, 0] // left and top\n\n        });\n\n        var marker = L.marker(coo, { icon: vIcon }).addTo(mymap);\n        marker.bindPopup(directName).openPopup();\n        marker.on('click', function (e) {\n            document.querySelector('.leaflet-popup').style.left = '18px';\n        });\n\n        document.querySelector('.leaflet-popup').style.left = '18px';\n    } else {\n        var coordinates = [50.4501, 30.5234];\n        var mymap = L.map('map').setView(coordinates, 2);\n        mymap.scrollWheelZoom.disable();\n\n        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {\n            attribution: 'Map data © <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA          </a>, Imagery © <a href=\"http://mapbox.com\">Mapbox</a>',\n            maxZoom: 18,\n            id: 'zardwi.02b6pmgg',\n            accessToken: 'pk.eyJ1IjoiemFyZHdpIiwiYSI6ImNpbnZxOTRieTAwcHR2c2tsZng2amgwdmsifQ.HDmszTUL_ChtJUXtMLy9vQ'\n        }).addTo(mymap);\n    }\n}\n\n// Initialize the map\n\n//# sourceMappingURL=snippet_641-compiled.js.map"]}