{"version":3,"sources":["snippet_637.js"],"names":[],"mappings":"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","file":"snippet_637-compiled.js","sourcesContent":["'use strict';\n\nvar TABLES = {\n    VILLAS: 342,\n    FEATURES: 348,\n    DIRECTIONS: 343,\n    REGIONS: 345,\n    SUB_REGIONS: 344,\n    ADDITIONAL_FIELDS: 364,\n    IMAGES: 428\n};\n\napp.controller('regionCtrl', ['$scope', '$http', 'setCookieFact', 'Database', function ($s, $h, setCookieFact, db) {\n    $s.targetRegion;\n    $s.titleRegion;\n    $s.pretext;\n    $s.subRegions = null;\n    $s.currentVills = []; // CURRENT vills\n    $s.regionCoordinates = [];\n    $s.dirCoordinates = [];\n    $s.destination = window.location.hostname;\n    console.log($s);\n\n    var domens = [{\n        url: 'www.arenda-vill-italiya.com',\n        region: 'Италия',\n        id: '32955'\n    }, {\n        url: 'www.arenda-vill-ispaniya.com',\n        region: 'Испания',\n        id: '32765'\n    }, {\n        url: 'www.arenda-vill-franciya.com',\n        region: 'Франция',\n        id: '32954'\n    }, {\n        url: 'www.arenda-vill-asia.com',\n        region: 'Азия',\n        id: '32921'\n    }, {\n        url: 'www.arenda-vill-kariby.com',\n        region: 'Карибы',\n        id: '32953'\n    }, {\n        url: 'www.arenda-vill-balkany.com',\n        region: 'Балканы',\n        id: '32957'\n    }, {\n        url: 'www.arenda-chalet.com',\n        region: 'Шале',\n        id: '36281'\n    }];\n\n    // настройки панели выезжющей из-под хедера\n\n    // \t$('.item.direction').mouseover(function(e){\n    //     $('.sub').animate({\n    //         top: '78px'\n    //     }, 300);\n    // })\n\n    // $('.item.direction').mouseleave(function(e){\n\n    //     var y = e.clientY;\n    //     if(y < 0) {\n    //         $('.sub').animate({\n    //             top: '34px'\n    //         }, 200);\n    //     }\n    // })\n\n    // $('.sub').on('mouseleave',function(){\n    //     $('.sub').animate({\n    //         top: '34px'\n    //     }, 200);\n    // })\n\n    var regName, regId;\n    domens.forEach(function (d) {\n        if (d.url == $s.destination) {\n            regName = d.region;\n            regId = d.id;\n        }\n    });\n\n    var indexStep = 3;\n    $s.index = 0;\n    $s.incrementIndex = function () {\n        $s.index += indexStep;\n        if ($s.index >= $s.currentVills.length) {\n            $s.index = 0;\n        }\n    };\n    $s.decrementIndex = function () {\n        $s.index -= indexStep;\n        if ($s.index < 0) {\n            $s.index = $s.currentVills.length - 2;\n        }\n    };\n\n    $s.setFavouriteVilla = function (villaId, event) {\n        if (!event.target.classList.contains('active-like')) {\n            document.getElementById('modal').classList.add('show');\n            return setCookieFact.setFavouriteVilla(villaId);\n        } else {\n            return setCookieFact.setFavouriteVilla(villaId);\n        }\n    };\n\n    $s.locateToAbousUs = function () {\n        window.location = 'http://www.arenda-vill.com/отдых-за-рубежом';\n    };\n\n    $s.moreInfo = function (villa) {\n        window.location = window.location.origin + \"/\" + villa.url;\n    };\n    $s.locateToDirections = function () {\n        window.location = 'http://arenda-vill.com/аренда-виллы-на-море';\n    };\n    $h.get('/api/data/table?t=' + TABLES.REGIONS + '&where[f8]=' + location.host) // check about name of target region\n    .success(function (data) {\n        $s.targetRegion = data;\n\n        data.forEach(function (sub) {\n            if (sub.f1 == regName && sub.f4 != undefined) {\n                $s.subRegions = [];\n                sub.f4.forEach(function (s) {\n                    if (s.f4) {\n                        $s.subRegions.push({\n                            name: s.f1,\n                            lat: s.f4.split(\",\")[0],\n                            lng: s.f4.split(\",\")[1],\n                            url: s.f2\n                        });\n                    }\n                });\n            }\n        });\n        var latitude, longitude;\n        if ($s.targetRegion[0].f3) {\n            latitude = $s.targetRegion[0].f3.split(',')[0];\n            longitude = $s.targetRegion[0].f3.split(',')[1];\n        }\n\n        $s.regionCoordinates.push({\n            latitude: latitude || '0',\n            longitude: longitude || '0'\n        });\n\n        $h.get('/api/data/table?t=' + TABLES.DIRECTIONS).success(function (directions) {\n            directions.forEach(function (dir) {\n                if (dir.f3 != undefined && dir.f3[0].f1 == $s.targetRegion[0].f1 && dir.f5) {\n                    var coords = [];\n                    if (coords = dir.f5.match(/([\\d.]+)\\s*,\\s*([\\d.]+)/)) $s.dirCoordinates.push({\n                        name: dir.f1,\n                        latitude: coords[1],\n                        longitude: coords[2],\n                        url: dir.url\n                    });\n                }\n            });\n\n            if ($s.subRegions == null) {\n                initialize($s.regionCoordinates, $s.dirCoordinates, domens);\n            } else {\n                initialize($s.regionCoordinates, $s.dirCoordinates, regName, $s.subRegions);\n            }\n        });\n\n        if ($s.targetRegion[0].f1.slice(-1) == 'я') {\n            $s.titleRegion = $s.targetRegion[0].f1.slice(0, -1) + 'и';\n            $s.pretext = 'в';\n            if ($s.targetRegion[0].f1 == 'Франция') {\n                $s.pretext = 'во';\n            }\n        } else if ($s.targetRegion[0].f1.slice(-1) == 'ы') {\n            if ($s.targetRegion[0].f1 == 'Альпы') {\n                $s.titleRegion = $s.targetRegion[0].f1.slice(0, -1) + 'ах';\n                $s.pretext = 'в';\n            } else {\n                $s.titleRegion = $s.targetRegion[0].f1.slice(0, -1) + 'ах';\n                $s.pretext = 'на';\n            }\n        } else {\n            $s.titleRegion = $s.targetRegion[0].f1;\n            $s.pretext = 'в';\n        }\n\n        if ($s.targetRegion[0].f1.toLowerCase().indexOf('шале') != -1) $s.pretext = '';\n    });\n\n    $h.get(\"api/data/tableRows?r=\" + regId).success(function (data) {\n        $s.regionId = data[0].field_value_id;\n        db.request('/api/data/table?t=342&connect[f8]=3', handleVillas);\n    });\n\n    function handleVillas(vills) {\n\n        var favouriteVillsFromCookies = setCookieFact.getFavouritesVill();\n\n        vills.filter(function (villa) {\n            try {\n                return villa.f8[0].f3[0].field_value_id == $s.regionId && villa.url;\n            } catch (e) {\n                return false;\n            }\n        }).forEach(function (vill) {\n            $s.currentVills.push(vill);\n\n            vill.inFavourites = false;\n            vill.inFavourites = favouriteVillsFromCookies ? favouriteVillsFromCookies.some(function (cookieId) {\n                return vill.field_value_id == cookieId;\n            }) : false;\n\n            checkVillaStatus($s.currentVills);\n        });\n\n        db.request('/api/data/table?t=' + TABLES.IMAGES + '&connect[f1]=0', handleImages);\n    }\n\n    function handleImages(rows) {\n        rows = rows.filter(function (row) {\n            return !!row.f1;\n        });\n        $s.currentVills.forEach(function (villa) {\n            villa.images = rows.filter(function (imageRow) {\n                return imageRow.f1.indexOf(villa.field_value_id) != -1;\n            }).sort(function (a, b) {\n                if (a.f3 == b.f3) return 0;\n                if (a.f3 == 'yes') return -1;\n                return 1;\n            });\n            villa.image = (villa.images[0] || { f2: '' }).f2;\n        });\n    }\n\n    function checkVillaStatus(array) {\n        $h.get('/api/data/table?t=364').success(function (vills) {\n            vills.forEach(function (villa) {\n                array.forEach(function (elem) {\n                    if (villa.f1) {\n                        if (elem.name == villa.f1[0].f1 && villa.status == 'hide') {\n                            var position = array.indexOf(elem);\n                            array.splice(position, 1);\n                        }\n                    }\n                });\n            });\n        });\n    }\n\n    getCurrentVillRegionId = function getCurrentVillRegionId(villRegionId) {\n        return villRegionId.match(/\\d+/g)[0];\n    };\n    ///////////////////////// for mobile //////////////////////////////\n\n    $s.directions = [];\n    $h.get('/api/data/table?t=343').success(function (data) {\n        console.log(data, 'directions');\n        var dirStore = [];\n        var subRegionStore = [];\n        data.forEach(function (direct) {\n            if (direct.f3 != undefined && direct.f3[0].f1 == regName) {\n                if (direct.f2 == undefined) {\n                    dirStore.push({\n                        name: direct.f1,\n                        url: direct.url,\n                        img: direct.f4\n                    });\n                } else {\n                    subRegionStore.push(direct);\n\n                    subRegionStore.forEach(function (elem, i) {\n                        if (findEquality($s.directions, elem) != false) {\n                            $s.directions.push({\n                                sub: [],\n                                name: elem.f2[0].f1,\n                                url: elem.f2[0].f2,\n                                img: elem.f4\n                            });\n                        }\n                    });\n                    $s.directions.forEach(function (r) {\n                        data.forEach(function (d) {\n\n                            if (d.f3 != undefined && d.f3[0].f1 == regName && d.f2 != undefined) {\n                                if (d.f2[0].f1 == r.name) {\n                                    r.sub.push({\n                                        name: d.f1,\n                                        url: d.url,\n                                        img: d.f4\n                                    });\n                                }\n                            }\n                        });\n                    });\n                }\n            }\n        });\n        $s.directions.forEach(function (elem) {\n            elem.sub = unique(elem.sub); // удаляем повтоярющиеся элементы\n        });\n        dirStore.forEach(function (d) {\n            $s.directions.push(d); // добовляем самостоятельные направления\n        });\n    });\n    function findEquality(array, elem) {\n        var result = null;\n        array.forEach(function (a) {\n            if (a.name == elem.f2[0].f1) {\n                result = false;\n            }\n        });\n        return result;\n    }\n    function unique(arr) {\n        var result = [];\n\n        nextInput: for (var i = 0; i < arr.length; i++) {\n            var str = arr[i]; // для каждого элемента\n            for (var j = 0; j < result.length; j++) {\n                // ищем, был ли он уже?\n                if (result[j].name == str.name) continue nextInput; // если да, то следующий\n            }\n            result.push(str);\n        }\n\n        return result;\n    }\n\n    //     if(d.f3[0].f1 == regName && d.f2 != undefined) {\n    //         $s.directions.push({\n    //             sub: [],\n    //             name: d.f2[0].f1,\n    //             url: d.f2[0].f2,\n    //             img: d.f4\n    //         })\n    //     }\n    //     else if(d.f3[0].f1 == regName && d.f2 == undefined) {\n    //         $s.directions.push({\n    //             name: d.f1,\n    //             url: d.url,\n    //             img: d.f4\n    //         });\n    //     }\n    //   })\n\n    //   $s.directions.forEach(function(direct){\n    //       data.forEach(function(data){\n    //         if(data.f2 != undefined) {\n    //             if(direct.name == data.f2[0].f1) {\n    //                 direct.sub.push(data);\n    //             }\n    //         }\n    //       })\n    //   })\n\n    // })\n\n    $s.locateTo = function (url) {\n        window.location = 'http://' + url;\n    };\n\n    function initialize(region, directions, targetRegion, subRegions) {\n\n        switch (targetRegion) {\n            case 'Карибы':\n                var zoomView = 5;\n                break;\n            case 'Балканы':\n                var zoomView = 5;\n                break;\n            case 'Азия':\n                var zoomView = 4;\n                break;\n            default:\n                var zoomView = 6;\n                break;\n\n        }\n\n        var view = [region[0].latitude, region[0].longitude];\n        var mymap = L.map('map').setView(view, zoomView);\n        mymap.scrollWheelZoom.disable();\n        window.map = mymap;\n\n        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {\n            attribution: 'Map data © <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, <a href=\"http://creativecommons.org/licenses/by                          -sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"http://mapbox.com\">Mapbox</a>',\n            maxZoom: 18,\n            id: 'zardwi.02b6pmgg',\n            accessToken: 'pk.eyJ1IjoiemFyZHdpIiwiYSI6ImNpbnZxOTRieTAwcHR2c2tsZng2amgwdmsifQ.HDmszTUL_ChtJUXtMLy9vQ'\n        }).addTo(mymap);\n\n        var subIcon = L.icon({\n            iconUrl: '/files/villa/location_pin.png',\n            iconSize: [42, 60],\n            iconAnchor: [22, 76],\n            popupAnchor: [-97, 0] // left and top\n\n        });\n\n        var dirIcon = L.icon({\n            iconUrl: '/files/villa/location_pin_small.png',\n            iconSize: [30, 42],\n            iconAnchor: [10, 40],\n            popupAnchor: [0, 5]\n        });\n        if (subRegions != null) {\n            subRegions.forEach(function (sub) {\n                var marker = L.marker([sub.lat, sub.lng], { icon: subIcon }).addTo(mymap);\n                var link2 = $('<span class=\"custom-popup\">' + sub.name + '</span>').click(function () {\n                    window.location = 'http://' + location.host + '/' + sub.url;\n                })[0];\n                marker.bindPopup(link2);\n            });\n        }\n        if (directions && directions.length) {\n            directions.forEach(function (dir) {\n                // if (!dir.f3) return;\n                var marker = L.marker([dir.latitude, dir.longitude], { icon: dirIcon }).addTo(mymap);\n                var link = $('<span class=\"custom-popup-small\">' + dir.name + '</span>').click(function () {\n                    window.location = 'http://' + location.host + '/' + dir.url;\n                })[0];\n                marker.bindPopup(link);\n                marker.on('click', function (e) {\n                    e.target._popup._contentNode.style.height = \"16px\";\n                    e.target._popup._contentNode.style.lineHeight = \"30%\";\n                    document.querySelector('.leaflet-popup-content-wrapper').style.right = \"60px\";\n                });\n            });\n        }\n\n        // var marker = L.marker(coordinates).addTo(mymap);\n    }\n}]);\n\nfunction filterByTableId(obj, tableId) {\n    return obj.filter(function (el) {\n        return el.table_id == tableId;\n    });\n}\n\nwindow.addEventListener('load', function () {\n\n    count_slide = $('.slideshow .slide-item').length;\n    var i = 0;\n    var whatHide = false;\n    var timeSlide = 5000;\n\n    (function () {\n        if (i < count_slide) {\n            if (whatHide) x = count_slide;else x = i;\n            z = i + 1;\n            if (i >= 1 || whatHide) {\n                $('.slideshow').find('.slide-item-' + x).hide(500).parent('.slideshow').find('.slide-item-' + z).show(500);\n                whatHide = false;\n            }\n            i++;\n        } else {\n            i = 0;whatHide = true;\n        }\n        if (whatHide) t = 0;else t = timeSlide;\n        setTimeout(arguments.callee, t);\n    })();\n\n    //     $(function() {\n    //     var down = false;\n    // $('#content-1').touchstart(function() {\n    //     down = true;\n    // }).touchend(function() {\n    //     down = false;\n    // });\n    //     var slides = $('#content-1 .block-info .w30').length;\n    //     //var slideWidth = $('#slider').width();\n    //     var slideWidth = $('#content-1 .block-info .w30').width()+20;\n    //   var aantalitemszichtbaar =$('#content-1 .block-info').width()/($('#content-1 .block-info').width()+20);\n    //     var min = 0;\n    //     var max = -((slides - aantalitemszichtbaar) * slideWidth);\n\n    //     $(\"#content-1 .block-info\").width(slides*slideWidth).draggable({\n    //         axis: 'x',\n    //         drag: function (event, ui) {\n    //             if(down) {\n    //             if (ui.position.left > min) ui.position.left = min;\n    //             if (ui.position.left < max) ui.position.left = max;\n    //             }\n    //         }\n    //     });\n    // });\n    jQuery(document).ready(function ($) {\n\n        setTimeout(setDropDown(), 1000);\n\n        function setDropDown() {\n            $('.arrow-more').click(function () {\n                $(this).parents('.w30').find('.down').slideToggle();\n                if ($(this).hasClass('active-more')) {\n                    $(this).removeClass(\"active-more\");\n                } else {\n                    $(this).addClass(\"active-more\");\n                }\n            });\n        }\n\n        $('.locate-to').click(function () {\n            $('html, body').animate({\n                scrollTop: $(\"#map\").offset().top - 78 - 100\n            }, 1500);\n        });\n\n        var galleryItems = $('.cd-gallery').children('li');\n\n        galleryItems.each(function () {\n            var container = $(this),\n\n\n            // create slider dots\n            sliderDots = createSliderDots(container);\n            //check if item is on sale\n            // \t\tupdatePrice(container, 0);\n\n            // update slider when user clicks one of the dots\n            sliderDots.on('click', function () {\n                var selectedDot = $(this);\n                if (!selectedDot.hasClass('selected')) {\n                    var selectedPosition = selectedDot.index(),\n                        activePosition = container.find('.cd-item-wrapper .selected').index();\n                    if (activePosition < selectedPosition) {\n                        nextSlide(container, sliderDots, selectedPosition);\n                    } else {\n                        prevSlide(container, sliderDots, selectedPosition);\n                    }\n\n                    // updatePrice(container, selectedPosition);\n                }\n            });\n\n            // update slider on swipeleft\n            container.find('.cd-item-wrapper').on('swipeleft', function () {\n                var wrapper = $(this);\n                if (!wrapper.find('.selected').is(':last-child')) {\n                    var selectedPosition = container.find('.cd-item-wrapper .selected').index() + 1;\n                    nextSlide(container, sliderDots);\n                    // updatePrice(container, selectedPosition);\n                }\n            });\n\n            // update slider on swiperight\n            container.find('.cd-item-wrapper').on('swiperight', function () {\n                var wrapper = $(this);\n                if (!wrapper.find('.selected').is(':first-child')) {\n                    var selectedPosition = container.find('.cd-item-wrapper .selected').index() - 1;\n                    prevSlide(container, sliderDots);\n                    // updatePrice(container, selectedPosition);\n                }\n            });\n\n            // preview image hover effect - desktop only\n            container.on('mouseover', '.move-right, .move-left', function (event) {\n                hoverItem($(this), true);\n            });\n            container.on('mouseleave', '.move-right, .move-left', function (event) {\n                hoverItem($(this), false);\n            });\n\n            // update slider when user clicks on the preview images\n            container.on('click', '.move-right, .move-left', function (event) {\n                event.preventDefault();\n                if ($(this).hasClass('move-right')) {\n                    var selectedPosition = container.find('.cd-item-wrapper .selected').index() + 1;\n                    nextSlide(container, sliderDots);\n                } else {\n                    if ($(this).hasClass('move-left')) {\n                        var selectedPosition = container.find('.cd-item-wrapper .selected').index() - 1;\n                        prevSlide(container, sliderDots);\n                    }\n                }\n                // \t\t\tupdatePrice(container, selectedPosition);\n            });\n        });\n\n        function createSliderDots(container) {\n            var dotsWrapper = $('<ol class=\"cd-dots\"></ol>').insertAfter(container.children('a'));\n            container.find('.cd-item-wrapper li').each(function (index) {\n                var dotWrapper = index == 0 ? $('<li class=\"selected\"></li>') : $('<li></li>'),\n                    dot = $('<a href=\"#0\"></a>').appendTo(dotWrapper);\n                dotWrapper.appendTo(dotsWrapper);\n                dot.text(index + 1);\n            });\n            return dotsWrapper.children('li');\n        }\n\n        function hoverItem(item, bool) {\n            item.hasClass('move-right') ? item.toggleClass('hover', bool).siblings('.selected, .move-left').toggleClass('focus-on-right', bool) : item.toggleClass('hover', bool).siblings('.selected, .move-right').toggleClass('focus-on-left', bool);\n        }\n\n        function nextSlide(container, dots, n) {\n            var visibleSlide = container.find('.cd-item-wrapper .selected'),\n                navigationDot = container.find('.cd-dots .selected');\n            if (typeof n === 'undefined') n = visibleSlide.index() + 1;\n            visibleSlide.removeClass('selected');\n            container.find('.cd-item-wrapper li').eq(n).addClass('selected').removeClass('move-right hover').prevAll().removeClass('move-right move-left focus-on-right').addClass('hide-left').end().prev().removeClass('hide-left').addClass('move-left').end().next().addClass('move-right');\n            navigationDot.removeClass('selected');\n            dots.eq(n).addClass('selected');\n        }\n\n        function prevSlide(container, dots, n) {\n            var visibleSlide = container.find('.cd-item-wrapper .selected'),\n                navigationDot = container.find('.cd-dots .selected');\n            if (typeof n === 'undefined') n = visibleSlide.index() - 1;\n            visibleSlide.removeClass('selected focus-on-left');\n            container.find('.cd-item-wrapper li').eq(n).addClass('selected').removeClass('move-left hide-left hover').nextAll().removeClass('hide-left move-right move-left focus-on-left').end().next().addClass('move-right').end().prev().removeClass('hide-left').addClass('move-left');\n            navigationDot.removeClass('selected');\n            dots.eq(n).addClass('selected');\n        }\n\n        // \tfunction updatePrice(container, n) {\n        // \t\tvar priceTag = container.find('.cd-price'),\n        // \t\t\tselectedItem = container.find('.cd-item-wrapper li').eq(n);\n        // \t\tif( selectedItem.data('sale') ) {\n        // \t\t\t// if item is on sale - cross old price and add new one\n        // \t\t\tpriceTag.addClass('on-sale');\n        // \t\t\tvar newPriceTag = ( priceTag.next('.cd-new-price').length > 0 ) ? priceTag.next('.cd-new-price') : $('<em class=\"cd-new-price\"></em>').insertAfter(priceTag);\n        // \t\t\tnewPriceTag.text(selectedItem.data('price'));\n        // \t\t\tsetTimeout(function(){ newPriceTag.addClass('is-visible'); }, 100);\n        // \t\t} else {\n        // \t\t\t// if item is not on sale - remove cross on old price and sale price\n        // \t\t\tpriceTag.removeClass('on-sale').next('.cd-new-price').removeClass('is-visible').on('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function(){\n        // \t\t\t\tpriceTag.next('.cd-new-price').remove();\n        // \t\t\t});\n        // \t\t}\n        // \t}\n    });\n});\n\n//# sourceMappingURL=snippet_637-compiled.js.map\n\n//# sourceMappingURL=snippet_637-compiled.js.map"]}