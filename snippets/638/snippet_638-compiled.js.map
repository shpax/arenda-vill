{"version":3,"sources":["snippet_638.js"],"names":[],"mappings":"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","file":"snippet_638-compiled.js","sourcesContent":["\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Created by shpax on 11-Jul-16.\n */\n\nvar TABLES = {\n    VILLAS: 342,\n    FEATURES: 348,\n    DIRECTIONS: 343,\n    REGIONS: 345,\n    SUB_REGIONS: 344,\n    ADDITIONAL_FIELDS: 364,\n    IMAGES: 428\n};\nvar FIELDS_TO_TRUST = _defineProperty({}, TABLES.VILLAS, ['description', 'additional_info', 'f16', 'f15', 'f19']);\n\nvar BreadCrumb = function BreadCrumb(text, url) {\n    _classCallCheck(this, BreadCrumb);\n\n    this.url = url;\n    this.text = text;\n};\n\napp.controller('villaCtrl', ['$scope', '$http', 'setCookieFact', '$sce', 'Database', function ($s, $h, setCookieFact, $sce, localDatabase) {\n    $s.setCookieFact = setCookieFact;\n    $s.currentVills = []; // CURRENT vills\n    $s.villaInfo;\n    $s.descriptionText1, $s.descriptionText2;\n    $s.regionName;\n    $s.nextVilla;\n    $s.coordinates = [];\n    $s.benefits = [];\n    $s.breadcrumbs = [];\n    $s.slides = [];\n    $s.alts = [];\n    $s.regionUrl = 'http://' + window.location.hostname;\n    $s.directionUrl;\n    $s.locHref = window.location.hostname + window.location.pathname;\n    var fav = angular.element(document.querySelector('.favorite-add'))[0];\n    console.log($s, 'scope');\n    var path = window.location.pathname,\n        villWords = path.substr(1).split('-').map(function (word) {\n        return word.charAt(0).toUpperCase() + word.slice(1);\n    });\n\n    $s.villName = villWords.reduce(function (prev, curr) {\n        return prev + \" \" + curr;\n    });\n\n    /// ****** RENDER ****** ///\n\n    $h.get('/api/data/table?t=342&connect[f8]=3&where[f18]=' + location.pathname.substr(1)).success(function (vills) {\n        if (vills) initVilla(vills[0]);\n    });\n\n    function initVilla(villa) {\n\n        villa.description = villa.description || '';\n        if (villa.description.indexOf('</p>') != -1) {\n            let paragraphs = villa.description.split('</p>');\n            villa.description = paragraphs.shift() + '</p>';\n            villa.additional_info = paragraphs.length ? paragraphs.join('</p>') : '';\n        }\n\n        FIELDS_TO_TRUST[TABLES.VILLAS].forEach(function (fieldName) {\n            villa[fieldName] = $sce.trustAsHtml(villa[fieldName]);\n        });\n        $s.villaInfo = villa;\n        $s.fieldValueId = villa.field_value_id;\n\n        // $h.get('/api/data/table?t=' + TABLES.ADDITIONAL_FIELDS + '&where[f1]=' + villa.field_value_id).success(function (res) {\n        //     return initAdditionalFields(res[0]);\n        // });\n\n        $h.get('/api/data/table?t=' + TABLES.IMAGES + '&where[f1]=' + villa.field_value_id).success(function (res) {\n            return initSliderImages(res);\n        });\n\n        villa.benefits = villa.f12 || [];\n        console.log(villa);\n\n        if (villa.f8) {\n            $s.directionUrl = 'http://' + $s.villaInfo.f8[0].url;\n        }\n\n        if (villa.f8) {\n            var direction = villa.f8[0];\n            localDatabase.request('/api/data/table?t=' + TABLES.VILLAS + '&where[f8]=' + direction.field_value_id + '&orderBy[f20]=desc&count=9', function (data) {\n                if (data && data.length) {\n                    $s.currentVills = data\n                        .filter(r => r.field_value_id != villa.field_value_id)\n                        .map(r => {\n                            r.priceStr = r.min_price && r.max_price ? `$${villa.min_price} — $${villa.max_price}` : 'по запросу'\n                            return r;\n                        });\n                    $s.currentVills.forEach(villa => {\n                        localDatabase.request('api/data/table?t=' + TABLES.IMAGES + '&where[f1]=' + villa.field_value_id + '&orderBy[f3]=desc&count=1', img => {\n                            if (img && img[0].f2) villa.img = img[0].f2;\n                        })\n                    })\n                } else {\n                    $s.currentVills = [];\n                }\n            });\n        }\n\n        makeBreadcrumbs(villa);\n    }\n\n    function makeBreadcrumbs(villa) {\n\n        if (!villa.f8 || !villa.f8.length) return;\n\n        var breadcrumbs = [];\n        var direction = villa.f8[0];\n        var subRegion = direction.f2 ? direction.f2[0] : null;\n        var region = direction.f3 ? direction.f3[0] : null;\n\n        if (region) {\n            breadcrumbs.push(new BreadCrumb(region.f1, 'http://' + (region.f10 || region.f8)));\n        }\n        if (region && subRegion) {\n            breadcrumbs.push(new BreadCrumb(subRegion.f1, 'http://' + (region.f10 || region.f8) + '/' + subRegion.f2));\n        }\n\n        breadcrumbs.push(new BreadCrumb(direction.f1, 'http://' + (region.f10 || region.f8) + '/' + (direction.url || direction.f6)));\n        breadcrumbs.push(new BreadCrumb(villa.f1 || villa.name, location.toString()));\n\n        $s.breadcrumbs = breadcrumbs;\n    }\n\n    function initAdditionalFields(fields) {\n        var villa = $s.villaInfo;\n        villa.addFields = fields || {};\n        if (fields.f8) {\n            var _fields$f8$split$map = fields.f8.split(',').map(function (val) {\n                return val.trim();\n            });\n\n            var _fields$f8$split$map2 = _slicedToArray(_fields$f8$split$map, 2);\n\n            var latitude = _fields$f8$split$map2[0];\n            var longitude = _fields$f8$split$map2[1];\n\n            var title = $s.targetDirect || 'No direction';\n            $s.coordinates.push({ latitude: latitude, longitude: longitude, title: title });\n            initialize($s.coordinates, $s.villaInfo.name); // create map\n        } else {\n            initialize();\n        }\n    }\n\n    function initSliderImages(imageRows) {\n        var villa = $s.villa;\n        var slides = $s.slides;\n        var alts = $s.alts;\n\n        if (imageRows) imageRows.forEach(function (imageRow) {\n\n            if (imageRow.f2) slides.push({\n                src: imageRow.f2,\n                alt: imageRow.f6\n            });\n            // slides.push(imageRow.f2);\n            // alts.push(imageRow.f6);\n        });\n    }\n\n    function isFav() {\n        var result;\n        $s.setCookieFact.getFavouritesVill().forEach(function (vill) {\n            if (vill == $s.villaInfo.field_value_id) {\n                result = true;\n            }\n        });\n        return result;\n    }\n\n    $s.addFavTarget = function (villaId, event) {\n        if (!event.target.classList.contains('active-like')) {\n            event.target.classList.add('active-like');\n            document.getElementById('modal').classList.add('show');\n            return setCookieFact.setFavouriteVilla(villaId);\n        } else {\n            event.target.classList.remove('active-like');\n            return setCookieFact.setFavouriteVilla(villaId);\n        }\n    };\n\n    $s.isFavTarget = function (villaId) {\n        var result;\n        setCookieFact.getFavouritesVill().forEach(function (vill) {\n            if (vill == villaId) {\n                result = true;\n            }\n        });\n        return result;\n    };\n\n    /// ****** RENDER ****** ///\n\n    $s.prevVilla = function () {\n        var result = function () {\n            $s.currentVills.forEach(function (villa, index) {\n                if (villa.name == $s.villaInfo.name) {\n                    result = index;\n                }\n            });\n            return result;\n        }();\n\n        if (fav.classList.contains('active')) {\n            fav.classList.remove('active');\n        }\n\n        if (result == $s.currentVills.indexOf($s.currentVills[0])) {\n            $s.villaInfo = $s.currentVills[$s.currentVills.length - 1];\n            locateToNewUrl($s.villaInfo);\n        } else {\n            $s.villaInfo = $s.currentVills[result - 1];\n            locateToNewUrl($s.villaInfo);\n        }\n    };\n    $s.nextVilla = function () {\n        var result = function () {\n            $s.currentVills.forEach(function (villa, index) {\n                if (villa.name == $s.villaInfo.name) {\n                    result = index;\n                }\n            });\n            return result;\n        }();\n\n        if (fav.classList.contains('active')) {\n            fav.classList.remove('active');\n        }\n\n        if (result == $s.currentVills.length - 1) {\n            $s.villaInfo = $s.currentVills[0];\n            locateToNewUrl($s.villaInfo);\n        } else {\n            $s.villaInfo = $s.currentVills[result + 1];\n            locateToNewUrl($s.villaInfo);\n        }\n    };\n    $s.showVillaInfo = function (url) {\n        window.location = 'http://' + url;\n    };\n\n    function locateToNewUrl(item) {\n        var t = item.name.split(\" \").map(function (word) {\n            return word.charAt(0).toLowerCase() + word.slice(1);\n        });\n        var villaUrl = t.reduce(function (prev, curr) {\n            return prev + \"-\" + curr;\n        });\n        window.location = 'http://' + item.url;\n    }\n\n    $s.addFav = function (villaId) {\n        if (!event.target.classList.contains('active')) {\n            document.getElementById('modal').classList.add('show');\n            return setCookieFact.setFavouriteVilla(villaId);\n        } else {\n            return setCookieFact.setFavouriteVilla(villaId);\n        }\n    };\n    $s.moreInfo = function (villa) {\n        var t = villa.name.split(\" \").map(function (word) {\n            return word.charAt(0).toLowerCase() + word.slice(1);\n        });\n        var villaUrl = t.reduce(function (prev, curr) {\n            return prev + \"-\" + curr;\n        });\n        window.location = 'http://' + villa.url;\n    };\n\n    $s.sendVillToHeader = function (villa) {\n        $s.setCookieFact.addVill(villa.name);\n        document.querySelector('.modal').classList.add('slide-in-top', 'show1');\n        document.getElementById('effect-name').innerHTML = 'Отправить Заявку';\n    };\n    $s.setFavouriteVilla = function (villaId, event) {\n        if (!event.target.classList.contains('active-like')) {\n            document.getElementById('modal').classList.add('show');\n            return $s.setCookieFact.setFavouriteVilla(villaId);\n        } else {\n            return $s.setCookieFact.setFavouriteVilla(villaId);\n        }\n    };\n\n    var nameReg = /^[a-zA-Zа-яА-Я'][a-zA-Zа-яА-Я-' ]+[a-zA-Zа-яА-Я']?$/,\n        emailReg = /^[\\w\\.-_\\+]+@[\\w-]+(\\.\\w{2,4})+$/,\n        phoneReg = /^([+]+)*[0-9\\x20\\x28\\x29-]{7,12}$/;\n\n    $s.validateName = function () {\n        if ($s.reqName != undefined) {\n            if (!nameReg.test($s.reqName)) {\n                document.getElementById('nameV').style.borderBottomColor = \"red\";\n                return false;\n            } else {\n                document.getElementById('nameV').style.borderBottomColor = \"#d0d0d0\";\n                return true;\n            }\n        } else if ($s.regName == undefined) {\n            document.getElementById('nameV').style.borderBottomColor = \"red\";\n            return false;\n        } else {\n            document.getElementById('nameV').style.borderBottomColor = \"#d0d0d0\";\n            return true;\n        }\n    };\n    $s.validatePhone = function () {\n        if ($s.reqPhone != undefined) {\n            if (!phoneReg.test($s.reqPhone)) {\n                document.getElementById('phoneV').style.borderBottomColor = \"red\";\n                return false;\n            } else {\n                document.getElementById('phoneV').style.borderBottomColor = \"#d0d0d0\";\n                return true;\n            }\n        } else if ($s.regPhone == undefined) {\n            document.getElementById('phoneV').style.borderBottomColor = \"red\";\n            return false;\n        } else {\n            document.getElementById('phoneV').style.borderBottomColor = \"#d0d0d0\";\n            return true;\n        }\n    };\n\n    $s.validateEmail = function () {\n        if ($s.reqEmail != undefined) {\n            if (!emailReg.test($s.reqEmail)) {\n                document.getElementById('emailV').style.borderBottomColor = \"red\";\n                return false;\n            } else {\n                document.getElementById('emailV').style.borderBottomColor = \"#d0d0d0\";\n                return true;\n            }\n        } else if ($s.regEmail == undefined) {\n            document.getElementById('emailV').style.borderBottomColor = \"red\";\n            return false;\n        } else {\n            document.getElementById('emailV').style.borderBottomColor = \"#d0d0d0\";\n            return true;\n        }\n    };\n    $s.validateComments = function () {\n\n        if ($s.reqComments == undefined) {\n            document.getElementById('commentsV').style.borderBottomColor = \"red\";\n            return false;\n        } else {\n            document.getElementById('commentsV').style.borderBottomColor = \"#d0d0d0\";\n            return true;\n        }\n    };\n\n    var db = new DataManager();\n    $s.sendReqDataVilla = function (villa, targetForm) {\n        if ($s.validateName() == true && $s.validatePhone() == true && $s.validateEmail() == true && $s.validateComments() == true) {\n            var formVilla = document.getElementById(targetForm),\n                form = new FormData(formVilla),\n                inputs = formVilla.querySelectorAll('input'),\n                dataToAdmin = villa.url;\n\n            form.append('data[f5]', villa.name);\n            db.add(391, form, function (res) {\n                console.log(res);\n            });\n\n            if (targetForm == 'form-villa-mobile') {\n                sendMail($s.reqNameMobile, $s.reqPhoneMobile, $s.reqEmailMobile, $s.reqCommentsMobile, dataToAdmin);\n            } else if (targetForm == 'form-villa') {\n                sendMail($s.reqName, $s.reqPhone, $s.reqEmail, $s.reqComments, dataToAdmin);\n            } else {\n                console.log('Something wrong :(');\n            }\n\n            [].slice.call(inputs).forEach(function (input) {\n                input.value = \"\";\n            });\n        } else {\n            document.getElementById('nameV').style.borderBottomColor = \"red\";\n            document.getElementById('phoneV').style.borderBottomColor = \"red\";\n            document.getElementById('emailV').style.borderBottomColor = \"red\";\n            document.getElementById('commentsV').style.borderBottomColor = \"red\";\n\n            document.getElementById('nameVmobile').style.borderBottomColor = \"red\";\n            document.getElementById('phoneVmobile').style.borderBottomColor = \"red\";\n            document.getElementById('emailVmobile').style.borderBottomColor = \"red\";\n            document.getElementById('commentsVmobile').style.borderBottomColor = \"red\";\n        }\n    };\n    function sendMail(name, phone, email, comment, villa) {\n        var f = new FormData();\n        var sbj = \"Проверка вил на доступность.\";\n\n        f.append('sbj', sbj);\n        f.append('t', 'report_mail');\n\n        f.append('r[name]', name);\n        f.append('r[phone]', phone);\n        f.append('r[email]', email);\n        f.append('r[comment]', comment);\n        f.append('r[vills]', villa);\n        f.append('u', '74'); // твой юзер_ид. Если убрать, будет отправляться админу\n        // f.append('r[email]', 'не указано'); // замена данных в шаблоне\n        // f.append('r[message]', 'mgs'); // и т.д. ...\n\n        ajaxPost('/api/mail/mailAdmin', f, true, function (res) {\n            console.log(res);\n        });\n    }\n\n    function ajaxPost(href, data, async, func, $s) {\n        var xhr = getCrossXHR();\n        async = async ? true : false;\n        if (func) xhr.onreadystatechange = function () {\n            if (xhr.readyState == 4 && xhr.status == 200) func(xhr.responseText);\n            if ($s) $s.notices.push('readyState - ' + xhr.readyState + '; status - ' + xhr.status + '; responce - ' + xhr.responseText);\n        };\n        xhr.open('POST', href, async);\n        if ($s) $s.notices.push('3');\n        if ($s) $s.notices.push(data.constructor.name);\n        xhr.send(data);\n    }\n\n    function getCrossXHR() {\n        var xmlhttp;\n        try {\n            xmlhttp = new ActiveXObject(\"Msxml2.XMLHTTP\");\n        } catch (e) {\n            try {\n                xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n            } catch (E) {\n                xmlhttp = false;\n            }\n        }\n        if (!xmlhttp && typeof XMLHttpRequest != 'undefined') {\n            xmlhttp = new XMLHttpRequest();\n        }\n        return xmlhttp;\n    }\n\n    var indexStep = 3;\n    $s.index = 0;\n    $s.incrementIndex = function () {\n        $s.index += indexStep;\n        if ($s.index >= $s.currentVills.length) {\n            $s.index = 0;\n        }\n        console.log($s.index, 'index');\n    };\n    $s.decrementIndex = function () {\n        $s.index -= indexStep;\n        if ($s.index < 0) {\n            $s.index = $s.currentVills.length - 2;\n        }\n        console.log($s.index, 'index');\n    };\n\n    function cutDesripction() {\n        var sentences = $s.villaInfo.description.split('.');\n\n        $s.descriptionText1 = function () {\n            var result = sentences.slice(0, 5).reduce(function (prev, curr) {\n                return prev + \".\" + curr;\n            });\n            return result + \".\";\n        }();\n\n        $s.descriptionText2 = function () {\n            var result = sentences.slice(5).reduce(function (prev, curr) {\n                return prev + \".\" + curr;\n            });\n            return result + \".\";\n        }();\n    }\n\n    function villsOfTargetReg() {\n        $h.get('/api/data/table?t=342').success(function (vills) {\n            regionAdd(vills);\n            vills.some(function (villa) {\n                if (villa.region == $s.villaInfo.region) {\n                    $s.currentVills.push(villa);\n                }\n            });\n            // check the index of the villaInfo in currentVills\n            checkVillaStatus($s.currentVills);\n\n            $s.currentVills.forEach(function (villa, index) {\n                if (villa.name == $s.villaInfo.name) {\n                    $s.index = index;\n                }\n            });\n            $s.prevVillName = $s.index > 0 ? $s.currentVills[$s.index - 1].name : $s.currentVills[$s.currentVills.length - 1].name;\n            $s.nexVillName = $s.index >= $s.currentVills.length - 1 ? $s.currentVills[0].name : $s.currentVills[$s.index + 1].name;\n        });\n    }\n\n    function checkVillaStatus(array) {\n        $h.get('/api/data/table?t=364').success(function (vills) {\n            console.log(vills);\n            vills.forEach(function (villa) {\n                array.forEach(function (elem) {\n                    if (villa.f1 != undefined) {\n                        if (elem.name == villa.f1[0].f1 && villa.status == 'hide') {\n                            var position = array.indexOf(elem);\n                            array.splice(position, 1);\n                        }\n                    }\n                });\n            });\n        });\n    }\n\n    getCurrentVillRegionId = function getCurrentVillRegionId(villRegionId) {\n        return villRegionId.match(/\\d+/g)[0];\n    };\n\n    function filterByTableId(obj, tableId) {\n        return obj.filter(function (el) {\n            return el.table_id == tableId;\n        });\n    }\n    $s.slidePoint = function (index) {\n        var items = Array.prototype.slice.call(document.querySelectorAll('.item.ng-scope'));\n        var points = Array.prototype.slice.call(document.querySelectorAll('.point.ng-scope'));\n\n        var currentIndex = null;\n        var currentPoint = null;\n        points.forEach(function (point) {\n            if (point.classList.contains('active')) {\n                point.classList.remove('active');\n            }\n        });\n        items.forEach(function (item) {\n            if (item.classList.contains('fx')) {\n                item.classList.remove('fx');\n            }\n        });\n        items[index].classList.add('fx');\n        points[index].classList.add('active');\n\n        clearInterval(carousel);\n        carousel = setInterval(function () {\n            runCrousel();\n        }, 8000);\n    };\n    $s.nextSlide = function () {\n        console.log('swipe');\n        var items = Array.prototype.slice.call(document.querySelectorAll('.item.ng-scope'));\n        var points = Array.prototype.slice.call(document.querySelectorAll('.point.ng-scope'));\n\n        var currentIndex = null;\n        var currentPoint = null;\n        points.forEach(function (point) {\n            if (point.classList.contains('active')) {\n                currentPoint = points.indexOf(point);\n            }\n        });\n        items.forEach(function (item) {\n            if (item.classList.contains('fx')) {\n                currentIndex = items.indexOf(item);\n            }\n        });\n        if (currentIndex < items.length - 1) {\n            items[currentIndex].classList.remove('fx');\n            points[currentIndex].classList.remove('active');\n\n            items[currentIndex + 1].classList.add('fx');\n            points[currentIndex + 1].classList.add('active');\n        } else {\n            items[currentIndex].classList.remove('fx');\n            items[0].classList.add('fx');\n\n            points[currentIndex].classList.remove('active');\n            points[0].classList.add('active');\n        }\n        clearInterval(carousel);\n        carousel = setInterval(function () {\n            runCrousel();\n        }, 8000);\n    };\n    $s.prevSlide = function () {\n        console.log('swipe');\n        var items = Array.prototype.slice.call(document.querySelectorAll('.item.ng-scope'));\n        var points = Array.prototype.slice.call(document.querySelectorAll('.point.ng-scope'));\n\n        var currentIndex = null;\n        var currentPoint = null;\n        points.forEach(function (point) {\n            if (point.classList.contains('active')) {\n                currentPoint = points.indexOf(point);\n            }\n        });\n        items.forEach(function (item) {\n            if (item.classList.contains('fx')) {\n                currentIndex = items.indexOf(item);\n            }\n        });\n        if (currentIndex == 0) {\n            items[currentIndex].classList.remove('fx');\n            points[currentIndex].classList.remove('active');\n\n            items[items.length - 1].classList.add('fx');\n            points[points.length - 1].classList.add('active');\n        } else {\n            items[currentIndex].classList.remove('fx');\n            points[currentIndex].classList.remove('active');\n\n            items[currentIndex - 1].classList.add('fx');\n            points[currentIndex - 1].classList.add('active');\n        }\n        clearInterval(carousel);\n        carousel = setInterval(function () {\n            runCrousel();\n        }, 8000);\n    };\n\n    var carousel = setInterval(function () {\n        runCrousel();\n    }, 8000);\n\n    function runCrousel() {\n        var items = Array.prototype.slice.call(document.querySelectorAll('.item.ng-scope'));\n        var points = Array.prototype.slice.call(document.querySelectorAll('.point.ng-scope'));\n\n        function slide(array, className) {\n            var lem = null;\n            array.forEach(function (elem) {\n                if (elem.classList.contains(className)) {\n                    lem = array.indexOf(elem);\n                }\n            });\n\n            if (lem < array.length - 1) {\n                array[lem].classList.remove(className);\n                array[lem + 1].classList.add(className);\n            } else {\n                array[lem].classList.remove(className);\n                array[0].classList.add(className);\n            }\n        }\n        slide(items, 'fx');\n        slide(points, 'active');\n    }\n}]);\n\nfunction filterByTableId(obj, tableId) {\n    return obj.filter(function (el) {\n        return el.table_id == tableId;\n    });\n}\n\nvar regsWithDir = [{\n    reg: 'Балканы',\n    dir: ['Черногория', 'Хорватия', 'Пафос', 'Крит']\n}, {\n    reg: 'Италия',\n    dir: ['Сардиния', 'Озеро Комо', 'Тоскана', 'Сициля', 'Итальянские Альпы']\n}, {\n    reg: 'Франция',\n    dir: ['Куршевель', 'Шамони', 'Прованс', 'Канны', 'Сан Тропе', 'Ницца']\n}, {\n    reg: 'Карибы',\n    dir: ['Майами', 'Мексика', 'Пунта Кана']\n}, {\n    reg: 'Азия',\n    dir: ['Самуи', 'Пхукет', 'Сейшелы', 'Мальдивы', 'Маврикий', 'Гоа', 'Бали']\n}, {\n    reg: 'Испания',\n    dir: ['Ибица', 'Майорка', 'Барселона', 'Марбелья']\n}];\n\nvar regionAdd = function regionAdd(vills) {\n\n    regsWithDir.forEach(function (item) {\n        item.dir.forEach(function (direct) {\n            vills.forEach(function (villa) {\n                if (villa.f8 != undefined && direct == villa.f8[0].f1) {\n                    villa.region = item.reg;\n                }\n            });\n        });\n    });\n};\nvar regionAddSingleTarget = function regionAddSingleTarget(villa) {\n\n    regsWithDir.forEach(function (item) {\n        item.dir.forEach(function (direct) {\n            if (villa.f8 != undefined && direct == villa.f8[0].f1) {\n                villa.region = item.reg;\n            }\n        });\n    });\n};\n\nfunction initialize(coordinates, villaName) {\n    if (arguments.length == 2) {\n\n        var coordinates = [coordinates[0].latitude, coordinates[0].longitude];\n        var mymap = L.map('map-id').setView(coordinates, 10);\n        mymap.scrollWheelZoom.disable();\n\n        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {\n            attribution: 'Map data © <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"http://mapbox.com\">Mapbox</a>',\n            maxZoom: 18,\n            id: 'zardwi.02b6pmgg',\n            accessToken: 'pk.eyJ1IjoiemFyZHdpIiwiYSI6ImNpbnZxOTRieTAwcHR2c2tsZng2amgwdmsifQ.HDmszTUL_ChtJUXtMLy9vQ'\n        }).addTo(mymap);\n\n        var vIcon = L.icon({\n            iconUrl: '/files/villa/location-arrow.png',\n            shadowUrl: '/files/villa/location.png',\n\n            iconSize: [9, 15],\n            shadowSize: [56, 80],\n            iconAnchor: [6, 56],\n            shadowAnchor: [28, 80],\n            popupAnchor: [0, 0] // left and top\n\n        });\n\n        var marker = L.marker(coordinates, { icon: vIcon }).addTo(mymap);\n        marker.bindPopup(villaName).openPopup();\n\n        document.querySelector('.leaflet-popup').style.left = '0px';\n        if (window.screen.width <= 768) {\n            var popupWidth = villaName.length * 14;\n            document.querySelector('.leaflet-popup-content').style.width = popupWidth.toString() + 'px';\n        }\n    } else {\n        var coordinates = [50.4501, 30.5234];\n        var mymap = L.map('map-id').setView(coordinates, 2);\n        mymap.scrollWheelZoom.disable();\n\n        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {\n            attribution: 'Map data © <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"http://mapbox.com\">Mapbox</a>',\n            maxZoom: 18,\n            id: 'zardwi.02b6pmgg',\n            accessToken: 'pk.eyJ1IjoiemFyZHdpIiwiYSI6ImNpbnZxOTRieTAwcHR2c2tsZng2amgwdmsifQ.HDmszTUL_ChtJUXtMLy9vQ'\n        }).addTo(mymap);\n    }\n}\n\nvar benefits = [{\n    name: 'Частный пляж',\n    className: 'beach'\n}, {\n    name: 'Частный причал',\n    className: 'pier'\n}, {\n    name: 'Кинозал',\n    className: 'cinema-hall'\n}, {\n    name: 'Бассейн',\n    className: 'swimm'\n}, {\n    name: 'Спорт Зал',\n    className: 'sport'\n}, {\n    name: 'Сауна',\n    className: 'sauna-bucket'\n\n}, {\n    name: 'Джакузи',\n    className: 'jacuzzi'\n}, {\n    name: 'Wi-Fi',\n    className: 'wi-fi'\n}, {\n    name: 'Зона для охраны',\n    className: 'secure'\n}, {\n    name: 'Камин',\n    className: 'fireplace'\n}, {\n    name: 'Барбекю',\n    className: 'barbecue'\n}, {\n    name: 'Альфреско',\n    className: 'alfresco'\n}, {\n    name: 'Кондиционер',\n    className: 'conditioner'\n}, {\n    name: 'DVD-проигрыватель',\n    className: 'dvd'\n}, {\n    name: 'Apple гарнитура',\n    className: 'apple'\n}];\n\nwindow.addEventListener('load', function () {\n    // open/hide readMore button\n    var readMore = document.getElementsByClassName(\"readMore\");\n    for (var i = 0; i < readMore.length; i++) {\n        var showHideText = function showHideText() {\n            var blockParent = this.parentElement,\n                readMoreInfo = blockParent.getElementsByClassName(\"readMoreInfo\");\n            for (var j = 0; j < readMore.length && this.innerHTML != \"Скрыть\"; j++) {\n                var readMoreInfoAll = document.getElementsByClassName(\"readMoreInfo\");\n                readMoreInfoAll[j].classList.remove(\"active\");\n                readMore[j].innerHTML = \"Читать дальше\";\n            }\n            readMoreInfo[0].classList.toggle(\"active\");\n            if (this.innerHTML == \"Читать дальше\") {\n                this.innerHTML = \"Скрыть\";\n            } else {\n                this.innerHTML = \"Читать дальше\";\n            }\n        };\n        readMore[i].addEventListener('click', showHideText, false);\n    }\n\n    // toggle favorite\n    var favorite = document.getElementById('favorite-add'),\n        favoriteMobile = document.getElementById('favorite-add-mobile');\n\n    function toggleFavorite() {\n        favorite.classList.toggle('active');\n        favoriteMobile.classList.toggle('active');\n    }\n    favorite.addEventListener('click', toggleFavorite, false);\n    favoriteMobile.addEventListener('click', toggleFavorite, false);\n\n    // toggle mobile button\n    var mobileButton = document.getElementById('main-button-block'),\n        button = mobileButton.getElementsByTagName('button');\n\n    function toggleClassButton() {\n\n        var thisBlockInfoId = this.getAttribute(\"name\");\n\n        for (var j = 0; j < button.length; j++) {\n\n            var blockInfoId = button[j].getAttribute(\"name\");\n\n            button[j].classList.remove('active');\n            document.getElementById(blockInfoId).classList.remove('active');\n        }\n\n        this.classList.add('active');\n        document.getElementById(thisBlockInfoId).classList.add('active');\n    }\n    for (var i = 0; i < button.length; i++) {\n        button[i].addEventListener('click', toggleClassButton, false);\n    }\n});\n\n// smooth scroll\nScroller = {\n    // control the speed of the scroller.\n    // dont change it here directly, please use Scroller.speed=50;\n    speed: 10,\n\n    // returns the Y position of the div\n    gy: function (_gy) {\n        function gy(_x) {\n            return _gy.apply(this, arguments);\n        }\n\n        gy.toString = function () {\n            return _gy.toString();\n        };\n\n        return gy;\n    }(function (d) {\n        gy = d.offsetTop;\n        if (d.offsetParent) while (d = d.offsetParent) {\n            gy += d.offsetTop;\n        }return gy;\n    }),\n\n    // returns the current scroll position\n    scrollTop: function scrollTop() {\n        body = document.body;\n        d = document.documentElement;\n        if (body && body.scrollTop) return body.scrollTop;\n        if (d && d.scrollTop) return d.scrollTop;\n        if (window.pageYOffset) return window.pageYOffset;\n        return 0;\n    },\n\n    // attach an event for an element\n    // (element, type, function)\n    add: function add(event, body, d) {\n        if (event.addEventListener) return event.addEventListener(body, d, false);\n        if (event.attachEvent) return event.attachEvent('on' + body, d);\n    },\n\n    // kill an event of an element\n    end: function end(e) {\n        if (window.event) {\n            window.event.cancelBubble = true;\n            window.event.returnValue = false;\n            return;\n        }\n        if (e.preventDefault && e.stopPropagation) {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    },\n\n    // move the scroll bar to the particular div.\n    scroll: function scroll(d) {\n        i = window.innerHeight || document.documentElement.clientHeight;\n        h = document.body.scrollHeight;\n        a = Scroller.scrollTop();\n        if (d > a) {\n            if (h - d > i) a += Math.ceil((d - a) / Scroller.speed);else a += Math.ceil((d - a - (h - d)) / Scroller.speed);\n        } else a = a + (d - a) / Scroller.speed;\n        window.scrollTo(0, a);\n        if (a == d || Scroller.offsetTop == a) clearInterval(Scroller.interval);\n        Scroller.offsetTop = a;\n    },\n    // initializer that adds the renderer to the onload function of the window\n    init: function init() {\n        Scroller.add(window, 'load', Scroller.render);\n    },\n\n    // this method extracts all the anchors and validates then as # and attaches the events.\n    render: function render() {\n        a = document.getElementsByTagName('a');\n        Scroller.end(this);\n        window.onscroll;\n        for (i = 0; i < a.length; i++) {\n            l = a[i];\n            if (l.href && l.href.indexOf('#') != -1 && (l.pathname == location.pathname || '/' + l.pathname == location.pathname)) {\n                Scroller.add(l, 'click', Scroller.end);\n                l.onclick = function () {\n                    Scroller.end(this);\n                    l = this.hash.substr(1);\n                    a = document.getElementsByTagName('a');\n                    for (i = 0; i < a.length; i++) {\n                        if (a[i].name == l) {\n                            clearInterval(Scroller.interval);\n                            Scroller.interval = setInterval('Scroller.scroll(' + Scroller.gy(a[i]) + ')', 10);\n                        }\n                    }\n                };\n            }\n        }\n    }\n};\n// invoke the initializer of the scroller\nScroller.init();\n\n$('.locate-to').click(function () {\n    $('html, body').animate({\n        scrollTop: $(\"#map-id\").offset().top\n    }, 2000);\n});\n\n//button availability\n$('.availability-block.mobile button').click(function () {\n    $('.mobile.form-block').addClass('form-act');\n    $('.cancelItem').click(function () {\n        $('.mobile.form-block').removeClass('form-act');\n    });\n});\n\n//# sourceMappingURL=snippet_638-compiled.js.map"]}