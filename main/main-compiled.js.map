{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main-compiled.js","sourcesContent":["\"use strict\";\n\nvar POPULAR_DIRECTIONS = [\"ница\", \"ницца\", \"канны\", \"сен-тропе\", \"тоскана\", \"ибица\", \"доминикана\", \"бали\", \"марбелья\", \"сейшеллы\", \"мальдивы\", \"куршевель\"];\n\nvar FIELDS = {\n    NAME: 'f1',\n    META_TITLE: 'f2',\n    META_DESC: 'f5',\n    META_KEYWORDS: 'f4',\n    MIN_PRICE: 'f3',\n    MAX_PRICE: 'f21',\n    OBJECT_TYPE: 'f6',\n    RECREATION_STYLE: 'f7',\n    DIRECTION: 'f8',\n    BEDROOMS: 'f9',\n    BATHS: 'f10',\n    PEOPLE: 'f11',\n    BENEFITS: 'f12',\n    DESCRIPTION: 'f13',\n    COORDS: 'f14',\n    ADDITIONAL_SERVICE: 'f15',\n    BEDROOMS_DESC: 'f16',\n    ADDRESS: 'f17',\n    URL: 'f18',\n    SERVICES: 'f19',\n    STATUS: 'f20'\n};\n\napp.filter('endOfWordVills', function () {\n    return function (countVills) {\n        //debugger;\n        var countVills = +countVills;\n        if (countVills != 0) {\n            var lastDigit = \"\" + countVills;\n            if (lastDigit.slice(-2, -1) && +lastDigit.slice(-2, -1) == 1) {\n                return '';\n            } else {\n                lastDigit = +lastDigit.slice(-1);\n                switch (lastDigit) {\n                    case 1:\n                        return 'а';\n                        break;\n                    case 2:\n                    case 3:\n                    case 4:\n                        return 'ы';\n                        break;\n                    default:\n                        return '';\n                }\n            }\n        }\n    };\n});\n\napp.controller('MainPageCtrl', ['$scope', '$http', '$window', '$location', '$rootScope', 'SearchPageFact', 'Database', function ($s, $h, $location, $rootScope, $window, SearchPageFact, db) {\n    $s.vills = [];\n    $s.selectedAddress = \"\";\n    $s.result = [];\n    $s.regionNames = ['Испания', 'Азия', 'Карибы', 'Франция', 'Италия', 'Балканы', 'Шале'];\n    $s.regions = [];\n    $s.bestVillas = [];\n    $s.searchPlaceholder = 'Введите название виллы или город...';\n    $s.foo12 = 'foo12';\n    $s.oh = 'oh12';\n    localStorage.removeItem('searchValue');\n\n    $s.villaImg = function (villa) {\n        if (villa.image) return villa.image;else {\n            $h.get('/api/data/table?t=428&field=f2&where[f1]=' + villa.field_value_id + '&orderBy[f3]=desc&count=1').success(function (img) {\n                return villa.image = img;\n            });\n            villa.image = true;\n            return '';\n        }\n    };\n\n    // initialization\n    db.request('/api/data/table?t=342&connect[f8]=3', function (rows) {\n        if (rows && rows.length) {\n            $s.directions = [];\n            $s.subRegions = [];\n            $s.directionIds = [];\n            $s.popularDirections = [];\n            $s.regions = [];\n\n            $s.vills = rows.sort(function (row1, row2) {\n                if (row1[FIELDS.STATUS] == row2[FIELDS.STATUS]) return 0;\n                if (!row1[FIELDS.STATUS]) return 1;\n                if (row1[FIELDS.STATUS].toLowerCase() == 'популярная') return -1;\n                return 1;\n            }).map(function (villa) {\n                try {\n                    villa.fullUrl = 'http://' + villa.f8[0].f3[0].f8 + '/' + villa.url;\n                } catch (E) {\n                    villa.fullUrl = 'http://arenda-vill.com/' + villa.url;\n                }\n\n                if (villa[FIELDS.DIRECTION]) {\n                    (function () {\n                        var direction = villa[FIELDS.DIRECTION][0];\n\n                        villa.direction = direction;\n\n                        var ind = void 0;\n                        if (ind = $s.directionIds.indexOf(direction.field_value_id == -1)) {\n                            $s.directions.push(direction);\n                            $s.directionIds.push(direction.field_value_id);\n                        } else direction = $s.directions[ind];\n\n                        if (POPULAR_DIRECTIONS.indexOf(direction.f1.toLowerCase()) != -1) {\n                            var popDir = void 0;\n                            if (!(popDir = $s.popularDirections.filter(function (dir) {\n                                return dir.field_value_id == direction.field_value_id;\n                            }).pop())) {\n                                popDir = direction;\n                                $s.popularDirections.push(direction);\n                            }\n                            popDir.villas = popDir.villas || [];\n                            if (popDir.villas.length < 3) popDir.villas.push(villa);\n                        }\n\n                        if (direction.f3) {\n                            (function () {\n                                var region = direction.f3[0];\n                                if (!$s.regions.some(function (reg) {\n                                    if (reg.field_value_id == region.field_value_id) {\n                                        region = reg;\n                                        return true;\n                                    }\n                                })) $s.regions.push(region);\n\n                                region.villas = region.villas || [];\n                                region.villas.push(villa);\n\n                                region.directions = region.directions || [];\n                                region.directions.push(direction);\n\n                                if (direction.f2) {\n                                    (function () {\n                                        var subRegion = direction.f2[0];\n                                        subRegion.region = region;\n                                        if (!$s.subRegions.some(function (reg) {\n                                            return reg.field_value_id == subRegion.field_value_id;\n                                        })) {\n                                            $s.subRegions.push(subRegion);\n                                        }\n                                    })();\n                                }\n                            })();\n                        }\n                    })();\n                }\n\n                return villa;\n            });\n\n            $s.regions.forEach(function (region) {\n                region.directionsStr = \"направлен\";\n                switch (region.directions.length % 10) {\n                    case 1:\n                        region.directionsStr += 'ие';\n                        break;\n                    case 2:\n                    case 3:\n                    case 4:\n                        region.directionsStr += 'ия';\n                        break;\n                    default:\n                        region.directionsStr += 'ий';\n                }\n\n                region.villasStr = \"вилл\";\n                switch (region.villas.length % 10) {\n                    case 1:\n                        region.villasStr += 'а';\n                        break;\n                    case 2:\n                    case 3:\n                    case 4:\n                        region.villasStr += 'ы';\n                        break;\n                    default:\n                        region.villasStr += '';\n                }\n            });\n\n            $s.popularDirections.forEach(function (direction) {\n                $h.get('/api/data/table?t=428&' + direction.villas.map(function (villa) {\n                    return \"where[f1]=\" + villa.field_value_id;\n                }).join('&') + '&orderBy[f3]=desc&count=3').success(function (rows) {\n                    direction.villas.forEach(function (villa) {\n                        rows.forEach(function (row) {\n                            if (row.f2 && row.f1.indexOf(villa.field_value_id) != -1) villa.image = row.f2;\n                        });\n                    });\n                });\n            });\n\n            $s.searchStuff = [].concat($s.vills.filter(function (v) {\n                return v.url && v.f8 && v.f8[0].f3;\n            }).map(function (v) {\n                return {\n                    name: v.name || v.f1,\n                    id: v.field_value_id,\n                    url: v.f8[0].f3[0].f8 + '/' + v.url\n                };\n            }), $s.directions.filter(function (d) {\n                return d.f3 && d.f6;\n            }).map(function (d) {\n                return {\n                    name: d.f1,\n                    id: d.field_value_id,\n                    url: d.f3[0].f8 + '/' + d.f6\n                };\n            }), $s.subRegions.filter(function (s) {\n                return s.f2;\n            }).map(function (s) {\n                return {\n                    name: s.f1,\n                    id: s.field_value_id,\n                    url: s.region.f8 + '/' + s.f2\n                };\n            })).reduce(function (stuff, item) {\n                if (!stuff.some(function (s) {\n                    return s.url == item.url || s.id == item.id || s.name == item.name;\n                })) stuff.push(item);\n                return stuff;\n            }, []);\n            console.log($s.searchStuff);\n        }\n    });\n\n    console.log($s, '---------------scope---------');\n\n    $s.moreInfo = function (villa) {\n        console.log(villa);\n        $h.get('http://www.arenda-vill.com/api/data/table?t=345&where[field_value_id]=' + villa.f8[0].f3.replace(/\\|/g, '') + '&field=f8').success(function (host) {\n            window.location = 'http://' + host + '/' + villa.url;\n        });\n        // window.location = 'http://' + villa.url;\n    };\n\n    $s.locateToAboutUs = function () {\n        window.location = 'http://www.arenda-vill.com/отдых-за-рубежом';\n    };\n    $s.setSearchValueEmpty = function () {\n        $s.searchPlaceholder = \"\";\n    };\n    $s.setSearchValueText = function () {\n        if ($s.selectedAddress == \"\") {\n            $s.searchPlaceholder = 'Введите название виллы или город...';\n        }\n    };\n\n    $s.searchResult = function (villa) {\n        // if($s.selectedAddress !== \"\" && (villa.name.indexOf($s.selectedAddress) > -1 || villa.f8[0].f1.indexOf($s.selectedAddress) > -1)) {\n        //     return true;\n        // }\n        //\n        // if ($s.selectedAddress !== \"\" && (villa.name.search(RegExp($s.selectedAddress, \"i\")) > -1 || villa.f8[0].f1.search(RegExp($s.selectedAddress, \"i\")) > -1)) {\n        //     return true;\n        // }\n        return villa.name.indexOf($s.selectedAddress) != -1 || villa.direction && villa.direction.f1 && villa.direction.f1.indexOf($s.selectedAddress != -1);\n    };\n\n    $s.checkIfEnterKeyWasPressed = function (evt) {\n        var keyCode = evt.which || evt.keyCode;\n        if (keyCode === 13) {\n            $s.goToSearchPage();\n        }\n    };\n\n    $s.goToSearchPage = function () {\n        //localStorage.setItem('searchValue', $s.selectedAddress);\n        window.location = \"/лучшие-виллы#/\" + $s.selectedAddress;\n    };\n\n    $s.goToSearchPageByRegion = function (region) {\n        localStorage.setItem('regionFromMain', region);\n        window.location = \"/лучшие-виллы\";\n    };\n\n    $s.goToSearchPageRecStyle = function (recStyle) {\n        if (recStyle == 0) {\n            localStorage.clear();\n            localStorage.setItem('recStyle', 'Берег моря');\n        } else if (recStyle == 1) {\n            localStorage.clear();\n            localStorage.setItem('recStyle', 'На природе');\n        } else if (recStyle == 2) {\n            localStorage.clear();\n            localStorage.setItem('recStyle', 'В горах');\n        } else {}\n        window.location = \"/лучшие-виллы\";\n    };\n    $s.locateToRegion = function (url) {\n        console.log(url);\n        // window.location = 'http://' + url;\n    };\n\n    var regsWithDir = [{\n        reg: 'Балканы',\n        dir: ['Черногория', 'Хорватия', 'Пафос', 'Крит']\n    }, {\n        reg: 'Италия',\n        dir: ['Сардиния', 'Озеро Комо', 'Тоскана', 'Сициля', 'Итальянские Альпы']\n    }, {\n        reg: 'Франция',\n        dir: ['Куршевель', 'Шамони', 'Прованс', 'Канны', 'Сан Тропе', 'Ницца']\n    }, {\n        reg: 'Карибы',\n        dir: ['Майами', 'Мексика', 'Пунта Кана']\n    }, {\n        reg: 'Азия',\n        dir: ['Самуи', 'Пхукет', 'Сейшелы', 'Мальдивы', 'Маврикий', 'Гоа', 'Бали']\n    }, {\n        reg: 'Испания',\n        dir: ['Ибица', 'Майорка', 'Барселона', 'Марбелья']\n    }];\n\n    var regionAdd = function regionAdd(villa) {\n        var i;\n        regsWithDir.forEach(function (item) {\n            item.dir.forEach(function (direct) {\n                if (direct == villa.f8[0].f1) {\n                    villa.region = item.reg;\n                }\n            });\n        });\n    };\n}]);\n\n// app.controller('main-page-popular-controller', []);\n// slider\nvar currentSlide = 0,\n    globalSlideshowId,\n    slideshowInterval = 8000;\n\nwindow.addEventListener('load', function () {\n\n    var widthClient = $(window).width();\n    if (widthClient < 1007) {\n        $('#region h1').addClass('v-line');\n    }\n\n    var arrows = true;\n    var points = false;\n    var t = document.getElementById('slideshow-ken-burns');\n    var item = t.querySelectorAll('.item');\n    var left;\n    var right;\n\n    item[currentSlide].classList.add('fx');\n    if (arrows) {\n        left = document.createElement('div');\n        left.className = 'arrow arrowLeft';\n        left.onclick = function () {\n            runKenBurns('prev');\n        };\n        t.appendChild(left);\n        right = document.createElement('div');\n        right.className = 'arrow arrowRight';\n        right.onclick = function () {\n            runKenBurns('next');\n        };\n        t.appendChild(right);\n    }\n    if (points) {\n        var p = document.createElement('div');\n        p.className = 'points';\n        for (var i = 0; i < item.length; i++) {\n            p.innerHTML += '<div class=\"point' + (i == 0 ? ' active' : '') + '\" onclick=\"runKenBurns(' + i + ')\"></div>';\n        }t.appendChild(p);\n    }\n    globalSlideshowId = setInterval(runKenBurns, slideshowInterval);\n});\n\nfunction runKenBurns(step) {\n    var item = document.getElementById('slideshow-ken-burns').querySelectorAll('.item'),\n        point = document.getElementById('slideshow-ken-burns').querySelectorAll('.point'),\n        last = item.length - 1,\n        n;\n\n    if (step == 'next') {\n        n = currentSlide == last ? 0 : currentSlide + 1;\n        clearInterval(globalSlideshowId);\n        globalSlideshowId = setInterval(runKenBurns, slideshowInterval);\n    }\n    if (step == 'prev') {\n        n = currentSlide == 0 ? last : currentSlide - 1;\n        clearInterval(globalSlideshowId);\n        globalSlideshowId = setInterval(runKenBurns, slideshowInterval);\n    }\n    if (parseInt(step) || parseInt(step) === 0) {\n        if (parseInt(step) <= last && parseInt(step) >= 0) n = parseInt(step);\n        clearInterval(globalSlideshowId);\n        globalSlideshowId = setInterval(runKenBurns, slideshowInterval);\n    } else n = currentSlide == last ? 0 : currentSlide + 1;\n    item[currentSlide].classList.remove('fx');\n    item[n].classList.add('fx');\n    if (point[currentSlide]) {\n        point[currentSlide].classList.remove('active');\n        point[n].classList.add('active');\n    }\n    currentSlide = n;\n}\n\n$(document).ready(function () {\n    $('#foo').viewportChecker({\n        callbackFunction: function callbackFunction(elem, action) {\n            $('.animateReg').animateNumber({ number: 7 }, 3000);\n            $('.animateDir').animateNumber({ number: 35 }, 3000);\n            $('.animateObj').animateNumber({ number: 210 }, 3000);\n        }\n    });\n});\n\n//# sourceMappingURL=main-compiled.js.map\n\n//# sourceMappingURL=main-compiled.js.map"]}